(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{42:function(e,a,t){e.exports=t(79)},47:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(20),l=t.n(c),o=(t(47),t(4)),s=t(5),i=t(17),m=t.n(i),u=t(7),p=t.n(u),f=function(e){e?(window.localStorage.setItem("accessToken",e),p.a.defaults.headers.common["x-auth-token"]=e):(window.localStorage.removeItem("accessToken"),delete p.a.defaults.headers.common["x-auth-token"])};!function(){var e=window.localStorage.getItem("accessToken");f(e)}();var d=p.a,E=t(1),v=t(2),h=t.n(v),b=t(6),g=function(e){return void 0===e||null===e||0===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},y=function(e){var a={};return Object.keys(e).forEach(function(t){a[t]=e[t].msg}),a},w=function(e){var a={username:null,password:null};return g(e.username)&&(a.username="Username is required"),e.password.length<6&&(a.password="Please enter a password with 6 or more characters"),a},N=function(e){var a={username:null,password:null};return g(e.username)&&(a.username="Username is required"),g(e.password)&&(a.password="Password is required"),a},O=function(e){var a={name:null,level:null,race:null,characterClass:null,alignment:null};return g(e.name)&&(a.name="Name is required"),g(e.level)&&(a.level="Level is required"),"0"===e.race&&(a.race="Race is required"),"0"===e.characterClass&&(a.characterClass="Class is required"),a},j=function(e){var a={name:null};return g(e.name)&&(a.name="Name is required"),a},x=function(e){return{type:"SET_CURRENT_PLAYER",payload:e}},C=Object(s.g)(function(e){var a=Object(E.c)(function(e){return e.auth}),t=Object(E.b)(),n=Object(s.f)(),c=r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper brown"},r.a.createElement("div",{className:"left",style:{marginLeft:"15px",display:"flex",flexDirection:"row",width:"5em",justifyContent:"space-around"}},r.a.createElement(o.b,{to:"/home"},r.a.createElement("i",{className:"fas fa-home",style:{color:"Mediumslateblue"}})),r.a.createElement(o.b,{to:"/settings"},r.a.createElement("i",{className:"material-icons",style:{color:"Mediumslateblue"}},"settings"))),r.a.createElement(o.b,{to:"/home",className:"brand-logo center mybrand-logo"},r.a.createElement("i",{className:"fas fa-dragon"}),"DnD5"),r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},r.a.createElement("li",{className:"align-center ".concat("/create-character"===e.location.pathname?"active":null)},r.a.createElement(o.b,{to:"/create-character",className:"align-center"},r.a.createElement("i",{className:"material-icons",style:{color:"Mediumslateblue"}},"add"),"Character")),r.a.createElement("li",{className:"".concat("/dungeonmaster"===e.location.pathname?"active":null)},r.a.createElement(o.b,{to:"/dungeonmaster"},"Dungeon Master")),r.a.createElement("li",null,r.a.createElement("button",{className:"btn waves-effect waves-light brown",style:{marginRight:"15px",marginLeft:"7px"},onClick:function(){t(function(e){f(null),e(x(null)),e({type:"SET_CHARACTERS",payload:[]}),e({type:"SET_GAMES",payload:[]})}),n.push("/")}},"Logout"))))),l=r.a.createElement("nav",null," ",r.a.createElement("div",{className:"nav-wrapper brown"},r.a.createElement(o.b,{to:"/",className:"brand-logo center mybrand-logo"},r.a.createElement("i",{className:"fas fa-dragon"}),"DnD5")));return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper brown"},a.player?c:l))}),k=function(){return r.a.createElement("nav",{style:{marginTop:"30px"},className:"brown lighten-5 container"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"search",type:"search"}),r.a.createElement("label",{className:"label-icon",htmlFor:"search"},r.a.createElement("i",{className:"material-icons"},"search")),r.a.createElement("i",{className:"material-icons"},"close")))))},R=function(){var e=Object(E.c)(function(e){return e.characters.characters});return r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"collection with-header"},r.a.createElement("li",{className:"collection-header brown lighten-5"},r.a.createElement("h5",null,"Characters")),e.map(function(e,a){return r.a.createElement(o.b,{key:e._id,to:"character/".concat(e._id)},r.a.createElement("li",{className:"collection-item",style:{fontSize:"1.1em",marginTop:"0.5em",backgroundColor:a%2!==0?"#efebe9":"",textTransform:"capitalize"}},e.name,", ",e.race," ",e.characterClass))})))},S=t(14),T=t(3),D=function(){return function(){var e=Object(b.a)(h.a.mark(function e(a){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5000/api/characters");case 3:t=e.sent,a({type:"SET_CHARACTERS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}()};function A(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function _(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?A(t,!0).forEach(function(a){Object(S.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var P=function(e){var a=e.match,t=Object(E.b)(),c=Object(s.f)(),l=Object(n.useState)(Object(E.c)(function(e){return e.characters.characters.filter(function(e){return e._id===a.params.id})[0]})),o=Object(T.a)(l,2),i=o[0],m=o[1],u=Object(n.useState)(null),f=Object(T.a)(u,2),d=f[0],v=f[1],g=function(){var e=Object(b.a)(h.a.mark(function e(){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5000/api/classes");case 3:a=e.sent,v(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)(function(){g()},[]),!d)return r.a.createElement("div",null);return i?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(function(e,a){return function(){var t=Object(b.a)(h.a.mark(function t(n){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.put("http://localhost:5000/api/characters/".concat(e._id),e);case 3:r=t.sent,n({type:"UPDATE_CHARACTER",payload:r.data}),console.log("Character updated successfully"),a.push("/home"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(i,c))}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6"},r.a.createElement("div",{className:"input-field col s4"},r.a.createElement("input",{id:"characterName",type:"text",value:i.name,onChange:function(e){return m(_({},i,{name:e.target.value}))}}),r.a.createElement("label",{className:"active"},"CHARACTER NAME:")),r.a.createElement("div",{className:"input-field col s4"},r.a.createElement("input",{id:"level",type:"text",value:i.level,onChange:function(e){return m(_({},i,{level:e.target.value}))}}),r.a.createElement("label",{className:"active"},"LEVEL:")))),r.a.createElement("div",{className:"col s12 row"},r.a.createElement("div",{className:"col s4"},r.a.createElement("label",null,"Race Select"),r.a.createElement("select",{className:"browser-default",value:i.race,onChange:function(e){return m(_({},i,{race:e.target.value}))}},r.a.createElement("option",{value:"Aasimar"},"Aasimar"),r.a.createElement("option",{value:"Dragonborn"},"Dragonborn"),r.a.createElement("option",{value:"Dwarf"},"Dwarf"),r.a.createElement("option",{value:"Elf"},"Elf"),r.a.createElement("option",{value:"Gnome"},"Gnome"),r.a.createElement("option",{value:"Half-Elf"},"Half-Elf"),r.a.createElement("option",{value:"Half-Orc"},"Half-Orc"),r.a.createElement("option",{value:"Halfling"},"Halfling"),r.a.createElement("option",{value:"Human"},"Human"),r.a.createElement("option",{value:"Tiefling"},"Tiefling"))),r.a.createElement("div",{className:"col s4"},r.a.createElement("label",null,"Class Select"),r.a.createElement("select",{className:"browser-default",value:i.characterClass,onChange:function(e){return m(_({},i,{characterClass:e.target.value}))}},d.results.map(function(e,a){return r.a.createElement("option",{key:a,value:e.index},e.name)}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("label",null,"Alignment Select"),r.a.createElement("select",{className:"browser-default",value:i.alignment,onChange:function(e){return m(_({},i,{alignment:e.target.value}))}},r.a.createElement("option",{value:"Lawful good"},"Lawful good"),r.a.createElement("option",{value:"Lawful neutral"},"Lawful neutral"),r.a.createElement("option",{value:"Lawful evil"},"Lawful evil"),r.a.createElement("option",{value:"Neutral good"},"Neutral good"),r.a.createElement("option",{value:"Neutral"},"Neutral"),r.a.createElement("option",{value:"Neutral evil"},"Neutral evil"),r.a.createElement("option",{value:"Chaotic good"},"Chaotic good"),r.a.createElement("option",{value:"Chaotic neutral"},"Chaotic neutral"),r.a.createElement("option",{value:"Chaotic evil"},"Chaotic evil")))),r.a.createElement("div",{className:"row right"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn waves-effect waves-light  grey darken-1 myBtn",style:{marginTop:"2em"},name:"action",onClick:function(){return c.push("/home")}},"Cancel",r.a.createElement("i",{className:"material-icons right"},"cancel"))),r.a.createElement("div",{className:"col "},r.a.createElement("button",{className:"btn waves-effect waves-light red darken-4 myBtn",style:{marginTop:"2em"},type:"submit",name:"action",onClick:function(e){e.preventDefault(),t(function(e,a){return function(){var t=Object(b.a)(h.a.mark(function t(n){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("http://localhost:5000/api/characters/".concat(e));case 3:r=t.sent,n({type:"DELETE_CHARACTER",payload:r.data._id}),a.push("/home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}(i._id,c))}},"Delete",r.a.createElement("i",{className:"material-icons right"},"delete"))),r.a.createElement("div",{className:"col "},r.a.createElement("button",{className:"btn waves-effect waves-light green darken-4 myBtn",style:{marginTop:"2em"},type:"submit",name:"action"},"Save",r.a.createElement("i",{className:"material-icons right"},"send"))))))):r.a.createElement("div",null)};function L(){return r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,"Dark mode"),r.a.createElement("div",{className:"switch"},r.a.createElement("label",null,"Off",r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{className:"lever"}),"On")))}var G=function(){var e=Object(E.c)(function(e){return e.games.games});return r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"collection with-header"},r.a.createElement("li",{className:"collection-header brown lighten-5"},r.a.createElement("h5",null,"Games")),e.map(function(e,a){return r.a.createElement(o.b,{key:a,to:"game/".concat(e._id)},r.a.createElement("li",{className:"collection-item",style:{fontSize:"1.1em",marginTop:"0.5em",backgroundColor:a%2!==0?"#efebe9":""}},e.name))})))},H=function(e){var a=e.match,t=Object(E.c)(function(e){return e.games.games.filter(function(e){return e._id===a.params.id})[0]}),n=Object(E.c)(function(e){return e.characters.characters});Object(E.c)(function(e){return e.auth.player});return t&&n?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dragonIcon"},r.a.createElement("i",{className:"fas fa-dragon"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"card-panel brown lighten-2"},r.a.createElement("h6",null,"Dungeon master"),r.a.createElement("span",{className:"white-text"},t.dungeonmaster.username),r.a.createElement("h6",null,"Game name"),r.a.createElement("span",{className:"white-text"},t.name),r.a.createElement("h6",null,"Your character in this game"),t.characters.map(function(e,a){if(n.some(function(a){return e._id===a._id}))return r.a.createElement("span",{key:a,className:"white-text"},e.name," ")}))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"card-panel brown lighten-2"},r.a.createElement("h6",null," Game description"),r.a.createElement("span",{className:"white-text"},t.description))))):r.a.createElement("div",null)},B=function(){return function(){var e=Object(b.a)(h.a.mark(function e(a){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5000/api/games");case 3:t=e.sent,a({type:"SET_GAMES",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}()},M=function(e,a,t){return function(){var n=Object(b.a)(h.a.mark(function n(r){var c,l;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,c=j(e),console.log(c),!c.name){n.next=8;break}r({type:"GET ERRORS",payload:c}),setTimeout(function(){r({type:"CLEAR_ERRORS"})},5e3),n.next=14;break;case 8:return n.next=10,p.a.post("http://localhost:5000/api/games",e);case 10:l=n.sent,r({type:"ADD_GAME",payload:l.data}),console.log("Game added successfully"),t||a.push("/home");case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0);case 19:case"end":return n.stop()}},n,null,[[0,16]])}));return function(e){return n.apply(this,arguments)}}()},U=function(e,a,t){return function(){var n=Object(b.a)(h.a.mark(function n(r){var c;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a&&""!==a){n.next=6;break}r({type:"GET ERRORS",payload:{characterSelect:"No character selected"}}),setTimeout(function(){r({type:"CLEAR_ERRORS"})},5e3),n.next=12;break;case 6:return n.next=8,p.a.post("http://localhost:5000/api/games/join/".concat(e),{character:a});case 8:c=n.sent,r({type:"ADD_GAME",payload:c.data}),console.log("Game added successfully"),t.push("/home");case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}},n,null,[[0,14]])}));return function(e){return n.apply(this,arguments)}}()},z=function(e,a){return function(){var t=Object(b.a)(h.a.mark(function t(n){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("http://localhost:5000/api/games/".concat(e));case 3:r=t.sent,n({type:"DELETE_GAME",payload:r.data._id}),console.log("Game deleted successfully"),a.push("/dungeonmaster"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()};function I(){var e=Object(E.c)(function(e){return e.errors}),a=(Object(E.c)(function(e){return e.games.games}),Object(E.b)()),t=Object(s.f)(),c=Object(n.useState)(""),l=Object(T.a)(c,2),o=l[0],i=l[1],m=Object(n.useState)(""),u=Object(T.a)(m,2),p=u[0],f=u[1],d=Object(n.useState)({type:"",data:""}),v=Object(T.a)(d,2),h=v[0],b=v[1];return Object(n.useEffect)(function(){console.log(h)},[h]),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:o,description:p,gameFile:JSON.stringify(h)};a(M(n,t,null))},encType:"multipart/form-data",onChange:function(e){switch(console.log(e.target.name),e.target.name){case"name":i(e.target.value);break;case"description":f(e.target.value);break;case"image":if(console.log(e.target),!e.target||!e.target.files||0===e.target.files.length)return;var a=e.target.files[0];if(console.log(a),a){console.log("lolo");var t=new FileReader;t.onload=function(e){console.log(e),b({type:a.type,data:btoa(e.target.result)})},t.readAsBinaryString(a)}}}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s8"},r.a.createElement("i",{className:"material-icons prefix"},"people"),r.a.createElement("input",{id:"icon_prefix",type:"text",name:"name",className:e.name?"invalid":""}),r.a.createElement("label",{className:""!==o?"active":""},"Game Name")),r.a.createElement("div",{className:"file-field input-field col s4 right"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,"File"),r.a.createElement("input",{type:"file",id:"image",name:"image"})),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path validate",type:"text"})))),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("i",{className:"material-icons prefix"},"description"),r.a.createElement("textarea",{id:"icon_prefix2",className:"materialize-textarea",name:"description"}),r.a.createElement("label",null,"Game description")),r.a.createElement("button",{className:"btn waves-effect waves-light green darken-3 myBtn",style:{marginTop:"2em"},type:"submit",name:"action"},"Save",r.a.createElement("i",{className:"material-icons right"},"send"))))}function q(e){var a=e.value,t=e.onChange,n=e.className,c=e.type,l=e.name,o=e.label,s=e.error;return r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{value:a,onChange:t,className:s?n+" invalid":n,type:c,name:l}),r.a.createElement("label",null,o),s&&r.a.createElement("div",null,s))}var F=function(e){var a=e.redirect,t=void 0===a?"/home":a,c=Object(E.c)(function(e){return e.auth}),l=Object(E.c)(function(e){return e.errors}),i=Object(E.b)(),u=Object(s.f)(),p=Object(n.useState)(""),v=Object(T.a)(p,2),g=v[0],w=v[1],O=Object(n.useState)(""),j=Object(T.a)(O,2),C=j[0],k=j[1];return Object(n.useEffect)(function(){c.player&&u.push("/home")},[c]),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/home";return function(){var n=Object(b.a)(h.a.mark(function n(r){var c,l,o,s;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(c=N(e)).username&&!c.password){n.next=7;break}r({type:"GET ERRORS",payload:c}),setTimeout(function(){r({type:"CLEAR_ERRORS"})},5e3),n.next=14;break;case 7:return n.next=9,d.post("http://localhost:5000/api/auth/login",e);case 9:l=n.sent,f(l.data.token),o=m()(l.data.token),r(x(o.player)),t&&a.push(t);case 14:n.next=22;break;case 16:n.prev=16,n.t0=n.catch(0),console.log("kakka",n.t0),s=y(n.t0.response.data.errors),r({type:"GET ERRORS",payload:s}),setTimeout(function(){r({type:"CLEAR_ERRORS"})},5e3);case 22:case"end":return n.stop()}},n,null,[[0,16]])}));return function(e){return n.apply(this,arguments)}}()}({username:g,password:C,errors:{}},u,t))}},r.a.createElement("h1",null,"Sign in"),r.a.createElement(q,{value:g,onChange:function(e){return w(e.target.value)},className:"input-field my-inputfield",type:"text",name:"username",label:"Username",error:l.username}),r.a.createElement(q,{value:C,onChange:function(e){return k(e.target.value)},className:"input-field my-inputfield",type:"password",name:"password",label:"Password",error:l.password}),r.a.createElement("button",{className:"btn waves-effect waves-light brown myBtn",style:{marginTop:"2em"},type:"submit",name:"action"},"Login",r.a.createElement("i",{className:"material-icons right"},"send")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/register",className:"btn waves-effect waves-light brown myBtn",style:{marginTop:"2em"}},"Register"))))},W=function(){var e=Object(E.c)(function(e){return e.auth}),a=Object(E.c)(function(e){return e.errors}),t=Object(E.b)(),c=Object(s.f)(),l=Object(n.useState)(""),i=Object(T.a)(l,2),u=i[0],p=i[1],v=Object(n.useState)(""),g=Object(T.a)(v,2),N=g[0],O=g[1],j=Object(n.useState)(""),C=Object(T.a)(j,2),k=C[0],R=C[1];return Object(n.useEffect)(function(){e.player&&c.push("/home")},[]),console.log(a),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(function(e,a){return function(){var t=Object(b.a)(h.a.mark(function t(n){var r,c,l,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=w(e)).username&&!r.password){t.next=7;break}n({type:"GET ERRORS",payload:r}),setTimeout(function(){n({type:"CLEAR_ERRORS"})},5e3),t.next=14;break;case 7:return t.next=9,d.post("http://localhost:5000/api/players",e);case 9:c=t.sent,f(c.data.token),l=m()(c.data.token),n(x(l.player)),a.push("/home");case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0),t.t0.response.data.errors?(o=y(t.t0.response.data.errors),n({type:"GET ERRORS",payload:o})):n({type:"GET ERRORS",payload:t.t0.response.data.msg});case 20:case"end":return t.stop()}},t,null,[[0,16]])}));return function(e){return t.apply(this,arguments)}}()}({username:u,password:N,passwordTwo:k,errors:{}},c))}},r.a.createElement("h1",null,"Register"),r.a.createElement(q,{value:u,onChange:function(e){return p(e.target.value)},className:"input-field my-inputfield",type:"text",name:"username",label:"Username",error:a.username}),r.a.createElement(q,{value:N,onChange:function(e){return O(e.target.value)},className:"input-field my-inputfield",type:"password",name:"password",label:"Password",error:a.password}),r.a.createElement(q,{value:k,onChange:function(e){return R(e.target.value)},className:"input-field my-inputfield",type:"password",name:"passwordTwo",label:"Confirm password",error:a.password}),r.a.createElement("button",{className:"btn waves-effect waves-light brown myBtn",style:{marginTop:"2em"},type:"submit",name:"action",disabled:N!==k&&0===N.length},"Register",r.a.createElement("i",{className:"material-icons right"},"send")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/",className:"btn waves-effect waves-light brown myBtn",style:{marginTop:"2em"}},"Login"))))},J=t(18),Y=t.n(J),V=function(){var e=Object(E.c)(function(e){return e.errors}),a=Object(E.b)(),t=Object(s.f)(),c=Object(n.useState)(""),l=Object(T.a)(c,2),o=l[0],i=l[1],m=Object(n.useState)("0"),u=Object(T.a)(m,2),f=u[0],d=u[1],v=Object(n.useState)(""),g=Object(T.a)(v,2),y=g[0],w=g[1],N=Object(n.useState)(null),j=Object(T.a)(N,2),x=j[0],C=j[1],k=Object(n.useState)(null),R=Object(T.a)(k,2),S=R[0],D=R[1],A=Object(n.useState)(""),_=Object(T.a)(A,2),P=_[0],L=_[1],G=Object(n.useState)("0"),H=Object(T.a)(G,2),B=H[0],M=H[1],U=Object(n.useCallback)(function(e){Y.a.Collapsible.init(e,{inDuration:3e3})}),z=null,I=Object(n.useCallback)(function(e){z=Y.a.Modal.init(e)}),q=function(){var e=Object(b.a)(h.a.mark(function e(){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:5000/api/classes");case 3:a=e.sent,C(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(h.a.mark(function e(){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,p.a.get("http://localhost:5000/api/classes/".concat(y,"/spells"));case 5:a=e.sent,D(a.data),console.log(a.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){q()},[]),Object(n.useEffect)(function(){F()},[y]);return x?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(function(e,a){return function(){var t=Object(b.a)(h.a.mark(function t(n){var r,c;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=O(e),console.log(r),!(r.name||r.level||r.race||r.characterClass)){t.next=9;break}console.log("errorijtn"),n({type:"GET ERRORS",payload:r}),setTimeout(function(){n({type:"CLEAR_ERRORS"})},5e3),t.next=15;break;case 9:return t.next=11,p.a.post("http://localhost:5000/api/characters",e);case 11:c=t.sent,n({type:"ADD_CHARACTER",newCharacter:c.data}),console.log("Character added successfully"),a.push("/home");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}},t,null,[[0,17]])}));return function(e){return t.apply(this,arguments)}}()}({name:o,race:f,characterClass:y,level:P,alignment:B},t))}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6"},r.a.createElement("div",{className:"input-field col s4"},r.a.createElement("input",{className:e.name?"invalid":"",id:"characterName",type:"text",value:o,onChange:function(e){return i(e.target.value)}}),r.a.createElement("label",null,"CHARACTER NAME:")),r.a.createElement("div",{className:"input-field col s4"},r.a.createElement("input",{className:e.level?"invalid":"",id:"level",type:"text",value:P,onChange:function(e){return L(e.target.value)}}),r.a.createElement("label",null,"LEVEL:")))),r.a.createElement("div",{className:"col s12 row"},r.a.createElement("div",{className:"col s4"},r.a.createElement("label",null,"Race Select"),r.a.createElement("select",{className:"browser-default",style:{borderColor:e.race?"red":""},value:f,onChange:function(e){return d(e.target.value)}},r.a.createElement("option",{value:"0",disabled:!0},"Races"),r.a.createElement("option",{value:"Aasimar"},"Aasimar"),r.a.createElement("option",{value:"Dragonborn"},"Dragonborn"),r.a.createElement("option",{value:"Dwarf"},"Dwarf"),r.a.createElement("option",{value:"Elf"},"Elf"),r.a.createElement("option",{value:"Gnome"},"Gnome"),r.a.createElement("option",{value:"Half-Elf"},"Half-Elf"),r.a.createElement("option",{value:"Half-Orc"},"Half-Orc"),r.a.createElement("option",{value:"Halfling"},"Halfling"),r.a.createElement("option",{value:"Human"},"Human"),r.a.createElement("option",{value:"Tiefling"},"Tiefling"))),r.a.createElement("div",{className:"col s4"},r.a.createElement("label",null,"Class Select"),r.a.createElement("select",{className:"browser-default",style:{borderColor:e.characterClass?"red":""},value:y,onChange:function(e){return w(e.target.value)}},r.a.createElement("option",{value:"",disabled:!0},"Classes"),x.results.map(function(e,a){return r.a.createElement("option",{key:a,value:e.index},e.name)}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("label",null,"Alignment Select"),r.a.createElement("select",{className:"browser-default",value:B,onChange:function(e){return M(e.target.value)}},r.a.createElement("option",{value:"0",disabled:!0},"Alignments"),r.a.createElement("option",{value:"Lawful good"},"Lawful good"),r.a.createElement("option",{value:"Lawful neutral"},"Lawful neutral"),r.a.createElement("option",{value:"Lawful evil"},"Lawful evil"),r.a.createElement("option",{value:"Neutral good"},"Neutral good"),r.a.createElement("option",{value:"Neutral"},"Neutral"),r.a.createElement("option",{value:"Neutral evil"},"Neutral evil"),r.a.createElement("option",{value:"Chaotic good"},"Chaotic good"),r.a.createElement("option",{value:"Chaotic neutral"},"Chaotic neutral"),r.a.createElement("option",{value:"Chaotic evil"},"Chaotic evil")))),r.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return z.open()}},"Spells (",S?S.count:0,")"),r.a.createElement("div",{id:"modal1",className:"modal modal-fixed-footer",ref:I},r.a.createElement("div",{className:"modal-content"},r.a.createElement("ul",{className:"collapsible",ref:U},x.results.map(function(e,a){return r.a.createElement("li",{key:a,value:e.index},r.a.createElement("div",{className:"collapsible-header"},r.a.createElement("i",{className:"material-icons"},"filter_drama"),e.name),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("span",null,"Lorem ipsum dolor sit amet.")))}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat"},"Accept"))),r.a.createElement("div",{className:"row right"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn waves-effect waves-light  grey darken-1 myBtn",style:{marginTop:"2em"},name:"action",onClick:function(){return t.push("/home")}},"Cancel",r.a.createElement("i",{className:"material-icons right"},"cancel"))),r.a.createElement("div",{className:"col "},r.a.createElement("button",{className:"btn waves-effect waves-light green darken-4 myBtn",style:{marginTop:"2em"},type:"submit",name:"action"},"Save",r.a.createElement("i",{className:"material-icons right"},"send"))))))):r.a.createElement("div",null)},Q=function(){var e=Object(E.c)(function(e){return e.errors}),a=Object(E.c)(function(e){return e.auth.player}),t=Object(E.c)(function(e){return e.games.games.filter(function(e){return e.dungeonmaster._id===a.id})}),c=Object(E.b)(),l=Object(s.f)(),i=Object(n.useState)(""),m=Object(T.a)(i,2),u=m[0],p=m[1];return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(M({name:u},l,!0)),p("")}},r.a.createElement("div",{className:""},r.a.createElement(o.b,{to:"/create-game"},"Create a full game"),r.a.createElement("p",null,"Quick start a new game")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("i",{className:"material-icons prefix"},"people"),r.a.createElement("input",{id:"icon_prefix",type:"text",className:e.name?"invalid":"",value:u,onChange:function(e){return p(e.target.value)}}),r.a.createElement("label",{className:""!==u?"active":""},"Game Name"),r.a.createElement("button",{className:"btn waves-effect waves-light green darken-3 myBtn",style:{marginTop:"2em"},type:"submit",name:"action"},"Save",r.a.createElement("i",{className:"material-icons right"},"send")))),r.a.createElement("ul",{className:"collection with-header"},r.a.createElement("li",{className:"collection-header brown lighten-5"},r.a.createElement("h5",null,"Your adventures")),t.map(function(e,a){return r.a.createElement(o.b,{key:a,to:"game-info/".concat(e._id)},r.a.createElement("li",{className:"collection-item",style:{fontSize:"1.1em",marginTop:"0.5em",backgroundColor:a%2!==0?"#efebe9":""}},e.name))})))};t(77),t(78);function $(){var e=Object(E.c)(function(e){return e.auth.player});return e?r.a.createElement("div",{className:"container",style:{marginBottom:"1.5em"}},r.a.createElement("h5",{className:"welcomeText"},"Welcome,","  "," ",r.a.createElement("span",{className:"playerWelcomeName"},e.username,"  "," "),r.a.createElement("span",{style:{fontSize:"25px",color:"Mediumslateblue"}},r.a.createElement("i",{className:"fas fa-hat-wizard"})),r.a.createElement("br",null),"Are you ready to start your adventure?","  ","  ")):r.a.createElement("div",null)}function K(e){var a=e.match,t=Object(E.b)(),n=Object(s.f)(),c=Object(E.c)(function(e){return e.games.games.filter(function(e){return e._id===a.params.id})[0]});Object(E.c)(function(e){return e.auth.player}),Object(E.c)(function(e){return e.characters.characters});return c?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dragonIcon"},r.a.createElement("i",{className:"fas fa-dragon"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6"},r.a.createElement("div",{className:"card-panel brown lighten-2"},r.a.createElement("h6",null,"Dungeon master"),r.a.createElement("span",{className:"white-text",style:{textTransform:"capitalize"}},c.dungeonmaster.username),r.a.createElement("h6",null,"Game name"),r.a.createElement("span",{className:"white-text",style:{textTransform:"capitalize"}},c.name),r.a.createElement("h6",null,"Characters in this game"),c.characters.map(function(e,a){return r.a.createElement("span",{key:a,className:"white-text"},e.name," -"," ")}))),r.a.createElement("div",{className:"col s6"},r.a.createElement("div",{className:"card-panel brown lighten-2"},r.a.createElement("h6",null," Game description"),r.a.createElement("span",{className:"white-text"},c.description)))),c.gameFile&&r.a.createElement("img",{src:"data:".concat(c.gameFile.type,";base64,").concat(atob(c.gameFile.data)),alt:"uploaded"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card-panel brown lighten-2"},r.a.createElement("h6",null," Share this invite to people to join:"),r.a.createElement("span",{className:"white-text"},"http://localhost:3000/joingame/".concat(c._id,"?secret=").concat(c.secret)),r.a.createElement("button",{className:"waves-effect waves-light btn-small",style:{marginLeft:"3.5em",backgroundColor:"mediumpurple"},onClick:function(){return navigator.clipboard.writeText("http://localhost:3000/joingame/".concat(c._id,"?secret=").concat(c.secret))}},"Copy")))),r.a.createElement("div",{className:"col "},r.a.createElement("button",{className:"btn waves-effect waves-light red darken-4 myBtn",style:{marginTop:"2em"},type:"submit",name:"action",onClick:function(e){e.preventDefault(),t(z(c._id,n))}},"Delete",r.a.createElement("i",{className:"material-icons right"},"delete")))):r.a.createElement("div",null)}function X(e){var a=e.match,t=e.location,c=Object(E.c)(function(e){return e.auth}),l=Object(n.useState)(null),o=Object(T.a)(l,2),i=o[0],m=o[1],u=new URLSearchParams(t.search).get("secret"),p=Object(E.c)(function(e){return e.characters.characters}),f=Object(n.useState)(""),v=Object(T.a)(f,2),g=v[0],y=v[1],w=Object(E.b)(),N=Object(s.f)();console.log(N.location);var O=function(){var e=Object(b.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("http://localhost:5000/api/games/".concat(a.params.id,"/").concat(u));case 3:t=e.sent,m(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){O()},[c]);var j=i?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dragonIcon"},r.a.createElement("i",{className:"fas fa-dragon"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"card-panel brown lighten-2"},r.a.createElement("h6",null,"Dungeon master"),r.a.createElement("span",{className:"white-text"},i.dungeonmaster.username),r.a.createElement("h6",null,"Game name"),r.a.createElement("span",{className:"white-text"},i.name))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"card-panel brown lighten-2"},r.a.createElement("h6",null," Game description"),r.a.createElement("span",{className:"white-text"},i.description)))),r.a.createElement("label",{className:"joinGameHeader"},"Choose a character to join a game"),r.a.createElement("select",{className:"browser-default",onChange:function(e){return y(e.target.value)},defaultValue:""},r.a.createElement("option",{value:"",disabled:!0},"Choose your character"),p.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name,", ",e.race," ",e.characterClass)})),r.a.createElement("div",{className:"row right"},r.a.createElement("button",{onClick:function(){w(U(i._id,g,N))},className:"btn waves-effect waves-light green darken-4 myBtn",style:{marginTop:"2em"},type:"submit",name:"action",disabled:""===g},"Join",r.a.createElement("i",{className:"material-icons right"},"send")))):r.a.createElement("div",null);return r.a.createElement("div",null,c.player?j:function(){if(!c.player)return r.a.createElement(F,{redirect:!1})}())}var Z=function(){var e=Object(E.b)(),a=Object(E.c)(function(e){return e.auth.player});return Object(n.useEffect)(function(){if(localStorage.accessToken){f(localStorage.accessToken);var a=m()(localStorage.accessToken);e(x(a.player))}},[]),Object(n.useEffect)(function(){a&&(e(D()),e(B()))},[a]),Object(n.useEffect)(function(){Y.a.AutoInit()}),r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(C,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:F}),r.a.createElement(s.a,{exact:!0,path:"/register",component:W}),r.a.createElement(s.a,{exact:!0,path:"/home",render:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dragonIcon"},r.a.createElement("i",{className:"fas fa-dragon"})),r.a.createElement(k,null),r.a.createElement($,null),r.a.createElement(R,null),r.a.createElement(G,null))}}),r.a.createElement(s.a,{exact:!0,path:"/character/:id",component:P}),r.a.createElement(s.a,{exact:!0,path:"/game/:id",component:H}),r.a.createElement(s.a,{exact:!0,path:"/game-info/:id",component:K}),r.a.createElement(s.a,{exact:!0,path:"/create-character",component:V}),r.a.createElement(s.a,{exact:!0,path:"/dungeonmaster",component:Q}),r.a.createElement(s.a,{exact:!0,path:"/settings",component:L}),r.a.createElement(s.a,{exact:!0,path:"/create-game",component:I}),r.a.createElement(s.a,{exact:!0,path:"/joingame/:id",component:X}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=t(13),ae=t(40),te=t(41);function ne(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function re(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ne(t,!0).forEach(function(a){Object(S.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var ce={player:null},le={},oe=t(19);function se(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ie(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?se(t,!0).forEach(function(a){Object(S.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var me={characters:[]};function ue(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function pe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ue(t,!0).forEach(function(a){Object(S.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ue(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var fe={games:[]},de=Object(ee.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_PLAYER":return re({},e,{player:a.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET ERRORS":return a.payload;case"CLEAR_ERRORS":return{};default:return e}},characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_CHARACTER":return ie({},e,{characters:[a.newCharacter].concat(Object(oe.a)(e.characters))});case"DELETE_CHARACTER":return ie({},e,{characters:e.characters.filter(function(e){return e._id!==a.payload})});case"SET_CHARACTERS":return ie({},e,{characters:Object(oe.a)(a.payload)});case"UPDATE_CHARACTER":return console.log(a.payload),ie({},e,{characters:e.characters.map(function(e){return e._id===a.payload._id?a.payload:e})});default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_GAMES":return pe({},e,{games:a.payload});case"ADD_GAME":return console.log("ADD REDUCER",a),pe({},e,{games:[a.payload].concat(Object(oe.a)(e.games))});case"DELETE_GAME":return pe({},e,{games:e.games.filter(function(e){return e._id!==a.payload})});default:return e}}}),Ee=[te.a],ve=Object(ee.createStore)(de,{},Object(ae.composeWithDevTools)(ee.applyMiddleware.apply(void 0,Ee)));l.a.render(r.a.createElement(E.a,{store:ve},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.4ce33d5c.chunk.js.map