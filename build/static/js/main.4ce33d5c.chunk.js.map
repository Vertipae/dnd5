{"version":3,"sources":["utils/axiosService.js","utils/validator.js","actions/authActions.js","actions/types.js","components/layouts/Navbar.js","components/layouts/SearchBar.js","components/characters/Characters.js","actions/characterActions.js","components/characters/Character.js","components/settings/Settings.js","components/games/Games.js","components/games/Game.js","actions/gameActions.js","components/games/CreateGame.js","components/common/TextFieldGroup.js","components/auth/Login.js","components/auth/Register.js","components/create-character/CreateCharacter.js","components/dungeonmaster/DungeonMaster.js","components/layouts/WelcomeBar.js","components/games/GameInfo.js","components/games/JoinGame.js","App.js","serviceWorker.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/characterReducer.js","reducers/gameReducer.js","reducers/index.js","store.js","index.js"],"names":["setToken","token","window","localStorage","setItem","axios","defaults","headers","common","removeItem","getItem","init","isEmpty","value","undefined","Object","keys","length","trim","formatErrors","errors","returnedErrors","forEach","key","msg","validateRegistration","userData","username","password","validateLogin","validateAddCharacter","characterData","name","level","race","characterClass","alignment","validateAddGame","gameData","setCurrentPlayer","decoded","type","payload","withRouter","props","auth","useSelector","state","dispatch","useDispatch","history","useHistory","authLinks","className","style","marginLeft","display","flexDirection","width","justifyContent","to","color","id","location","pathname","marginRight","onClick","push","guestLinks","player","SearchBar","marginTop","htmlFor","Characters","characters","map","character","i","_id","fontSize","backgroundColor","textTransform","getCharacters","a","get","res","data","console","log","Character","match","useState","filter","params","setCharacter","characterClasses","setCharacterClasses","getClass","response","useEffect","onSubmit","e","preventDefault","put","updateCharacter","onChange","target","results","c","index","delete","deleteCharacter","Settings","Games","games","game","Game","dungeonmaster","some","char","description","getGames","addGame","quick","setTimeout","post","joinGame","gameId","characterId","characterSelect","deleteGame","CreateGame","setName","setDescription","file","setFile","newGame","gameFile","JSON","stringify","encType","files","reader","FileReader","onload","btoa","result","readAsBinaryString","TextFieldGroup","label","error","Login","redirect","setUsername","setPassword","jwt_decode","loginUser","Register","passwordTwo","setPasswordTwo","registerUser","disabled","CreateCharacter","setRace","setCharacterClass","characterSpells","setCharacterSpells","setLevel","setAlignment","collapsibleRef","useCallback","elem","M","Collapsible","inDuration","instance","modalRef","Modal","getSpell","newCharacter","addCharacter","borderColor","open","count","ref","href","DungeonMaster","WelcomeBar","marginBottom","GameInfo","src","atob","alt","secret","navigator","clipboard","writeText","JoinGame","setGame","URLSearchParams","search","getGame","defaultValue","notAuthed","App","accessToken","AutoInit","exact","path","component","render","Boolean","hostname","initialState","combineReducers","action","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4ce33d5c.chunk.js","sourcesContent":["// Purpose of this file is to add authorization to token on every requests when user is logged in\nimport axios from \"axios\"\n\nconst init = () => {\n  const token = window.localStorage.getItem(\"accessToken\")\n  setToken(token)\n}\n\nexport const setToken = (token) => {\n  if (token) {\n    window.localStorage.setItem(\"accessToken\", token)\n    axios.defaults.headers.common[\"x-auth-token\"] = token\n  } else {\n    window.localStorage.removeItem(\"accessToken\")\n    delete axios.defaults.headers.common[\"x-auth-token\"]\n  }\n}\n\n\ninit()\n\nexport default axios\n","export const isEmpty = (value) =>\n  value === undefined ||\n  value === null ||\n  value === 0 ||\n  (typeof value === \"object\" && Object.keys(value).length === 0) || // Checking for empty object\n  (typeof value === \"string\" && value.trim().length === 0) // Checking for empty string\n\nexport const formatErrors = (errors) => {\n  const returnedErrors = {}\n  Object.keys(errors).forEach((key) => {\n    returnedErrors[key] = errors[key].msg\n  })\n\n  return returnedErrors\n}\nexport const validateRegistration = (userData) => {\n  let errors = { username: null, password: null }\n\n  if (isEmpty(userData.username)) errors.username = \"Username is required\"\n  if (userData.password.length < 6)\n    errors.password = \"Please enter a password with 6 or more characters\"\n\n  return errors\n}\n\nexport const validateLogin = (userData) => {\n  let errors = { username: null, password: null }\n\n  if (isEmpty(userData.username)) errors.username = \"Username is required\"\n  if (isEmpty(userData.password)) errors.password = \"Password is required\"\n\n  return errors\n}\n\nexport const validateAddCharacter = (characterData) => {\n  let errors = {\n    name: null,\n    level: null,\n    race: null,\n    characterClass: null,\n    alignment: null,\n  }\n  if (isEmpty(characterData.name)) errors.name = \"Name is required\"\n  if (isEmpty(characterData.level)) errors.level = \"Level is required\"\n  if (characterData.race === \"0\") errors.race = \"Race is required\"\n  if (characterData.characterClass === \"0\")\n    errors.characterClass = \"Class is required\"\n  return errors\n}\n\nexport const validateAddGame = (gameData) => {\n  let errors = {\n    name: null,\n  }\n  if (isEmpty(gameData.name)) errors.name = \"Name is required\"\n  return errors\n}\n\nexport default { isEmpty, validateRegistration, formatErrors }\n","import axios, { setToken } from \"../utils/axiosService\"\nimport jwt_decode from \"jwt-decode\"\nimport {\n  GET_ERRORS,\n  CLEAR_ERRORS,\n  SET_CURRENT_PLAYER,\n  SET_CHARACTERS,\n  SET_GAMES,\n} from \"./types\"\nimport {\n  formatErrors,\n  validateLogin,\n  validateRegistration,\n} from \"../utils/validator\"\n\nexport const registerUser = (userData, history) => async (dispatch) => {\n  try {\n    const errors = validateRegistration(userData)\n    if (errors.username || errors.password) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        // console.log(\"erroriactiontoimi\")\n        dispatch({\n          type: CLEAR_ERRORS,\n          // payload: null,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(\n        \"http://localhost:5000/api/players\",\n        userData\n      )\n      setToken(res.data.token)\n      // Log player in after registration\n      const decoded = jwt_decode(res.data.token)\n      // console.log(decoded)\n      dispatch(setCurrentPlayer(decoded.player))\n      history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n    if (err.response.data.errors) {\n      const errors = formatErrors(err.response.data.errors)\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n    } else {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data.msg,\n      })\n    }\n  }\n}\n\n// Login get user token\nexport const loginUser = (userData, history, redirect = \"/home\") => async (\n  dispatch\n) => {\n  try {\n    const errors = validateLogin(userData)\n    // console.log(\"errors_1\", errors)\n    if (errors.username || errors.password) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(\n        \"http://localhost:5000/api/auth/login\",\n        // Se body\n        userData\n      )\n      setToken(res.data.token)\n      const decoded = jwt_decode(res.data.token)\n      dispatch(setCurrentPlayer(decoded.player))\n      if (redirect) history.push(redirect)\n    }\n  } catch (err) {\n    console.log(\"kakka\", err)\n    const errors = formatErrors(err.response.data.errors)\n    dispatch({\n      type: GET_ERRORS,\n      payload: errors,\n    })\n    setTimeout(() => {\n      dispatch({\n        type: CLEAR_ERRORS,\n      })\n    }, 5000)\n  }\n}\n\nexport const setCurrentPlayer = (decoded) => {\n  // console.log(decoded)\n  return {\n    type: SET_CURRENT_PLAYER,\n    payload: decoded,\n  }\n}\n\nexport const logoutUser = () => (dispatch) => {\n  // Remove token localStorage\n  setToken(null)\n  dispatch(setCurrentPlayer(null))\n  dispatch({\n    type: SET_CHARACTERS,\n    payload: [],\n  })\n  dispatch({\n    type: SET_GAMES,\n    payload: [],\n  })\n}\n","export const SET_CURRENT_PLAYER = \"SET_CURRENT_PLAYER\"\nexport const GET_ERRORS = \"GET ERRORS\"\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\"\nexport const ADD_CHARACTER = \"ADD_CHARACTER\"\nexport const SET_CHARACTERS = \"SET_CHARACTERS\"\nexport const UPDATE_CHARACTER = \"UPDATE_CHARACTER\"\nexport const DELETE_CHARACTER = \"DELETE_CHARACTER\"\nexport const ADD_GAME = \"ADD_GAME\"\nexport const SET_GAMES = \"SET_GAMES\"\nexport const DELETE_GAME = \"DELETE_GAME\"\n","// import { addListener } from \"nodemon\"\nimport React from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { Link, withRouter, useHistory } from \"react-router-dom\"\nimport { logoutUser } from \"../../actions/authActions\"\n\nconst Navbar = (props) => {\n  // console.log(props.location.pathname);\n  // console.log(props);\n\n  const auth = useSelector((state) => state.auth)\n  const dispatch = useDispatch()\n\n  const history = useHistory()\n\n  const onLogoutClick = () => {\n    dispatch(logoutUser())\n    history.push(\"/\")\n  }\n\n  const authLinks = (\n    <nav>\n      <div className='nav-wrapper brown'>\n        <div\n          className='left'\n          style={{\n            marginLeft: \"15px\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            width: \"5em\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          <Link to='/home'>\n            <i className='fas fa-home' style={{ color: \"Mediumslateblue\" }}></i>\n          </Link>\n          <Link to='/settings'>\n            <i className='material-icons' style={{ color: \"Mediumslateblue\" }}>\n              settings\n            </i>\n          </Link>\n        </div>\n\n        <Link to='/home' className='brand-logo center mybrand-logo'>\n          <i className='fas fa-dragon'></i>\n          DnD5\n        </Link>\n\n        <ul id='nav-mobile' className='right hide-on-med-and-down'>\n          <li\n            className={`align-center ${\n              props.location.pathname === \"/create-character\" ? \"active\" : null\n            }`}\n          >\n            <Link to='/create-character' className='align-center'>\n              <i\n                className='material-icons'\n                style={{ color: \"Mediumslateblue\" }}\n              >\n                add\n              </i>\n              Character\n            </Link>\n          </li>\n          <li\n            className={`${\n              props.location.pathname === \"/dungeonmaster\" ? \"active\" : null\n            }`}\n          >\n            <Link to='/dungeonmaster'>Dungeon Master</Link>\n          </li>\n\n          {/* <li>\n\n        </li> */}\n          <li\n          //   className={`${\n          //     props.location.pathname === \"/logout\" ? \"active\" : null\n          //   }`}\n          // >\n          //   <Link to=\"/login\">Logout</Link>\n          >\n            <button\n              className='btn waves-effect waves-light brown'\n              style={{ marginRight: \"15px\", marginLeft: \"7px\" }}\n              onClick={onLogoutClick}\n            >\n              Logout\n            </button>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  )\n\n  const guestLinks = (\n    <nav>\n      {\" \"}\n      <div className='nav-wrapper brown'>\n        <Link to='/' className='brand-logo center mybrand-logo'>\n          <i className='fas fa-dragon'></i>\n          DnD5\n        </Link>\n        {/* <Link to='/' style={{ marginLeft: \"15px\" }}>\n          <i className='fas fa-home' style={{ color: \"Mediumslateblue\" }}></i>\n        </Link> */}\n      </div>\n    </nav>\n  )\n\n  return (\n    <nav>\n      <div className='nav-wrapper brown'>\n        {auth.player ? authLinks : guestLinks}\n      </div>\n    </nav>\n  )\n}\n\nexport default withRouter(Navbar)\n","import React from \"react\";\n\nconst SearchBar = () => {\n  return (\n    <nav style={{ marginTop: \"30px\" }} className='brown lighten-5 container'>\n      <div className='nav-wrapper'>\n        <form>\n          <div className='input-field'>\n            <input id='search' type='search' />\n            <label className='label-icon' htmlFor='search'>\n              <i className='material-icons'>search</i>\n            </label>\n            <i className='material-icons'>close</i>\n          </div>\n        </form>\n      </div>\n    </nav>\n  );\n};\n\nexport default SearchBar;\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\n\nconst Characters = () => {\n  const characters = useSelector((state) => state.characters.characters)\n\n  // console.log(characters)\n\n  return (\n    <div className='container'>\n      <ul className='collection with-header'>\n        <li className='collection-header brown lighten-5'>\n          <h5>Characters</h5>\n        </li>\n        {characters.map((character, i) => (\n          <Link key={character._id} to={`character/${character._id}`}>\n            <li\n              className='collection-item'\n              style={{\n                fontSize: \"1.1em\",\n                marginTop: \"0.5em\",\n                backgroundColor: i % 2 !== 0 ? \"#efebe9\" : \"\",\n                textTransform: \"capitalize\",\n              }}\n            >\n              {character.name}, {character.race} {character.characterClass}\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Characters\n","import {\n  SET_CHARACTERS,\n  ADD_CHARACTER,\n  UPDATE_CHARACTER,\n  DELETE_CHARACTER,\n  GET_ERRORS,\n  CLEAR_ERRORS,\n} from \"./types\"\nimport axios from \"axios\"\nimport { validateAddCharacter } from \"../utils/validator\"\n\nexport const addCharacter = (characterData, history) => async (dispatch) => {\n  try {\n    const errors = validateAddCharacter(characterData)\n    console.log(errors)\n    if (errors.name || errors.level || errors.race || errors.characterClass) {\n      console.log(\"errorijtn\")\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        // console.log(\"erroriactiontoimi\")\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(\n        \"http://localhost:5000/api/characters\",\n        characterData\n      )\n      dispatch({\n        type: ADD_CHARACTER,\n        newCharacter: res.data,\n      })\n      console.log(\"Character added successfully\")\n      history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const updateCharacter = (characterData, history) => async (dispatch) => {\n  try {\n    const res = await axios.put(\n      `http://localhost:5000/api/characters/${characterData._id}`,\n      characterData\n    )\n    dispatch({\n      type: UPDATE_CHARACTER,\n      payload: res.data,\n    })\n    console.log(\"Character updated successfully\")\n    history.push(\"/home\")\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const deleteCharacter = (id, history) => async (dispatch) => {\n  // console.log(\"DeleteAction\")\n  try {\n    const res = await axios.delete(`http://localhost:5000/api/characters/${id}`)\n    dispatch({\n      type: DELETE_CHARACTER,\n      payload: res.data._id,\n    })\n    // console.log(\"Character deleted successfully\")\n    history.push(\"/home\")\n  } catch (err) {\n    console.log(err)\n    // console.log('eroririririririr')\n  }\n}\n\nexport const getCharacters = () => async (dispatch) => {\n  // console.log(\"GetCharacterAction\")\n  try {\n    const res = await axios.get(\"http://localhost:5000/api/characters\")\n    // console.log(res)\n    dispatch({\n      type: SET_CHARACTERS,\n      payload: res.data,\n    })\n  } catch (err) {\n    console.log(err)\n  }\n}\n","import React, { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  deleteCharacter,\n  updateCharacter,\n} from \"../../actions/characterActions\"\nimport axios from \"axios\"\n\nconst Character = ({ match }) => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [character, setCharacter] = useState(\n    useSelector(\n      (state) =>\n        state.characters.characters.filter(\n          (character) => character._id === match.params.id\n        )[0]\n    )\n  )\n\n  const [characterClasses, setCharacterClasses] = useState(null)\n\n  const getClass = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/classes`)\n      setCharacterClasses(response.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  useEffect(() => {\n    getClass()\n  }, [])\n\n  // console.log(characterClass)\n  // console.log(character)\n  if (!characterClasses) {\n    return <div></div>\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    dispatch(updateCharacter(character, history))\n  }\n\n  if (!character) {\n    return <div></div>\n  }\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <div className='container'>\n          <div className='row'>\n            <div className='col s6'>\n              <div className='input-field col s4'>\n                <input\n                  id='characterName'\n                  type='text'\n                  value={character.name}\n                  onChange={(e) =>\n                    setCharacter({ ...character, name: e.target.value })\n                  }\n                />\n                <label className='active'>CHARACTER NAME:</label>\n              </div>\n              <div className='input-field col s4'>\n                <input\n                  id='level'\n                  type='text'\n                  value={character.level}\n                  onChange={(e) =>\n                    setCharacter({ ...character, level: e.target.value })\n                  }\n                />\n                <label className='active'>LEVEL:</label>\n              </div>\n            </div>\n          </div>\n\n          <div className='col s12 row'>\n            <div className='col s4'>\n              <label>Race Select</label>\n              <select\n                className='browser-default'\n                value={character.race}\n                onChange={(e) =>\n                  setCharacter({ ...character, race: e.target.value })\n                }\n              >\n                {/* <option value={characterRace} disabled>\n                Races\n              </option> */}\n                <option value='Aasimar'>Aasimar</option>\n                <option value='Dragonborn'>Dragonborn</option>\n                <option value='Dwarf'>Dwarf</option>\n                <option value='Elf'>Elf</option>\n                <option value='Gnome'>Gnome</option>\n                <option value='Half-Elf'>Half-Elf</option>\n                <option value='Half-Orc'>Half-Orc</option>\n                <option value='Halfling'>Halfling</option>\n                <option value='Human'>Human</option>\n                <option value='Tiefling'>Tiefling</option>\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Class Select</label>\n              <select\n                className='browser-default'\n                value={character.characterClass}\n                onChange={(e) =>\n                  setCharacter({ ...character, characterClass: e.target.value })\n                }\n              >\n                {characterClasses.results.map((c, i) => (\n                  <option key={i} value={c.index}>\n                    {c.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Alignment Select</label>\n              <select\n                className='browser-default'\n                value={character.alignment}\n                onChange={(e) =>\n                  setCharacter({ ...character, alignment: e.target.value })\n                }\n              >\n                {/* <option value={characterAlignment} disabled>\n                Alignments\n              </option> */}\n                <option value='Lawful good'>Lawful good</option>\n                <option value='Lawful neutral'>Lawful neutral</option>\n                <option value='Lawful evil'>Lawful evil</option>\n                <option value='Neutral good'>Neutral good</option>\n                <option value='Neutral'>Neutral</option>\n                <option value='Neutral evil'>Neutral evil</option>\n                <option value='Chaotic good'>Chaotic good</option>\n                <option value='Chaotic neutral'>Chaotic neutral</option>\n                <option value='Chaotic evil'>Chaotic evil</option>\n              </select>\n            </div>\n          </div>\n          <div className='row right'>\n            <div className='col'>\n              <button\n                className='btn waves-effect waves-light  grey darken-1 myBtn'\n                style={{ marginTop: \"2em\" }}\n                name='action'\n                onClick={() => history.push(\"/home\")}\n              >\n                Cancel\n                <i className='material-icons right'>cancel</i>\n              </button>\n            </div>\n            <div className='col '>\n              <button\n                className='btn waves-effect waves-light red darken-4 myBtn'\n                style={{ marginTop: \"2em\" }}\n                type='submit'\n                name='action'\n                onClick={(e) => {\n                  e.preventDefault()\n                  dispatch(deleteCharacter(character._id, history))\n                }}\n              >\n                Delete\n                <i className='material-icons right'>delete</i>\n              </button>\n            </div>\n            <div className='col '>\n              <button\n                className='btn waves-effect waves-light green darken-4 myBtn'\n                style={{ marginTop: \"2em\" }}\n                type='submit'\n                name='action'\n              >\n                Save\n                <i className='material-icons right'>send</i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n      {/* <button onClick={(e) => dispatch(deleteCharacter(character._id))}>TestDeletebutton</button> */}\n    </div>\n  )\n}\n\nexport default Character\n","import React from 'react'\n\nexport default function Settings() {\n    return ( \n <div className=\"container\">\n    <h5>Dark mode</h5>\n    <div className=\"switch\">\n    <label>\n      Off\n      <input type=\"checkbox\"/>\n      <span className=\"lever\"></span>\n      On\n    </label>\n  </div>\n</div>\n    )\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\n\nconst Games = () => {\n  const games = useSelector((state) => state.games.games)\n\n  return (\n    <div className='container'>\n      <ul className='collection with-header'>\n        <li className='collection-header brown lighten-5'>\n          <h5>Games</h5>\n        </li>\n\n        {games.map((game, i) => (\n          <Link key={i} to={`game/${game._id}`}>\n            <li\n              className='collection-item'\n              style={{\n                fontSize: \"1.1em\",\n                marginTop: \"0.5em\",\n                backgroundColor: i % 2 !== 0 ? \"#efebe9\" : \"\",\n              }}\n            >\n              {game.name}\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Games\n","import React from \"react\"\nimport { useSelector } from \"react-redux\"\n\nconst Game = ({ match }) => {\n  const game = useSelector(\n    (state) =>\n      state.games.games.filter((game) => game._id === match.params.id)[0]\n  )\n  const characters = useSelector((state) => state.characters.characters)\n  const player = useSelector((state) => state.auth.player)\n\n  // console.log(game)\n  // console.log(character)\n  if (!game || !characters) {\n    return <div></div>\n  }\n  // console.log(\"Peli\", game)\n  return (\n    <div className='container'>\n      <div className='dragonIcon'>\n        <i className='fas fa-dragon'></i>\n      </div>\n      <div className='row'>\n        <div className='col s12 m6'>\n          <div className='card-panel brown lighten-2'>\n            <h6>Dungeon master</h6>\n            <span className='white-text'>{game.dungeonmaster.username}</span>\n            <h6>Game name</h6>\n            <span className='white-text'>{game.name}</span>\n            <h6>Your character in this game</h6>\n            {/* Katsoo pelin characterit ja etsii listasta itselleen kuuluvat characterin vertailemalla char id:tä */}\n            {game.characters.map((character, i) => {\n              if (characters.some((char) => character._id === char._id)) {\n                return (\n                  <span key={i} className='white-text'>\n                    {character.name}{\" \"}\n                  </span>\n                )\n              }\n            })}\n          </div>\n        </div>\n        {/*  */}\n        <div className='col s12 m6'>\n          <div className='card-panel brown lighten-2'>\n            <h6> Game description</h6>\n            <span className='white-text'>{game.description}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default Game\n","import {\n  SET_GAMES,\n  ADD_GAME,\n  GET_ERRORS,\n  CLEAR_ERRORS,\n  DELETE_GAME,\n} from \"./types\"\nimport axios from \"axios\"\nimport { validateAddGame } from \"../utils/validator\"\n\n// Ei tartte id tai gamesData parametria, koska axios middleware lähettää tokenin automaattisesti\nexport const getGames = () => async (dispatch) => {\n  // console.log(\"GetGamesAction\")\n  try {\n    const res = await axios.get(\"http://localhost:5000/api/games\")\n    // console.log(\"GET_GAMES:\", res.data)\n    dispatch({\n      type: SET_GAMES,\n      payload: res.data,\n    })\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const addGame = (gameData, history, quick) => async (dispatch) => {\n  try {\n    const errors = validateAddGame(gameData)\n    console.log(errors)\n    if (errors.name) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(\"http://localhost:5000/api/games\", gameData)\n      dispatch({\n        type: ADD_GAME,\n        payload: res.data,\n      })\n      console.log(\"Game added successfully\")\n      if (!quick) history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const joinGame = (gameId, characterId, history) => async (dispatch) => {\n  try {\n    if (!characterId || characterId === \"\") {\n      dispatch({\n        type: GET_ERRORS,\n        payload: { characterSelect: \"No character selected\" },\n      })\n      setTimeout(() => {\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(\n        // se body {character: characterId}\n        `http://localhost:5000/api/games/join/${gameId}`,\n        { character: characterId }\n      )\n      dispatch({\n        type: ADD_GAME,\n        payload: res.data,\n      })\n      console.log(\"Game added successfully\")\n      history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const deleteGame = (id, history) => async (dispatch) => {\n  try {\n    const res = await axios.delete(`http://localhost:5000/api/games/${id}`)\n    dispatch({\n      type: DELETE_GAME,\n      payload: res.data._id,\n    })\n    console.log(\"Game deleted successfully\")\n    history.push(\"/dungeonmaster\")\n  } catch (err) {\n    console.log(err)\n  }\n}\n","import React, { useEffect, useRef, useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { addGame } from \"../../actions/gameActions\"\n\nexport default function CreateGame() {\n  const errors = useSelector((state) => state.errors)\n  const games = useSelector((state) => state.games.games)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [name, setName] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  const [file, setFile] = useState({ type: \"\", data: \"\" })\n  // const gameFile = useRef()\n\n  const onChange = (e) => {\n    console.log(e.target.name)\n    switch (e.target.name) {\n      case \"name\":\n        setName(e.target.value)\n        break\n      case \"description\":\n        setDescription(e.target.value)\n        break\n      case \"image\":\n        console.log(e.target)\n        if (!e.target || !e.target.files || e.target.files.length === 0) return\n        const file = e.target.files[0]\n        console.log(file)\n        if (file) {\n          console.log(\"lolo\")\n          const reader = new FileReader()\n          reader.onload = (e) => {\n            console.log(e)\n            setFile({ type: file.type, data: btoa(e.target.result) })\n          }\n\n          reader.readAsBinaryString(file)\n        }\n        break\n      default:\n        break\n    }\n  }\n  const onSubmit = (e) => {\n    e.preventDefault()\n    // console.log(gameFile.current.files[0])\n\n    const newGame = {\n      name,\n      description,\n      gameFile: JSON.stringify(file),\n      // gameFile: JSON.stringify(gameFile.current.files[0]),\n    }\n    // console.log(newGame)\n    dispatch(addGame(newGame, history, null))\n  }\n\n  useEffect(() => {\n    console.log(file)\n  }, [file])\n  return (\n    <div className='container'>\n      <form\n        onSubmit={onSubmit}\n        encType='multipart/form-data'\n        onChange={onChange}\n      >\n        <div className='row'>\n          <div className='input-field col s8'>\n            <i className='material-icons prefix'>people</i>\n            <input\n              id='icon_prefix'\n              type='text'\n              name='name'\n              className={errors.name ? \"invalid\" : \"\"}\n              // value={name}\n              // onChange={(e) => setName(e.target.value)}\n            />\n            <label className={name !== \"\" ? \"active\" : \"\"}>Game Name</label>\n          </div>\n          <div className='file-field input-field col s4 right'>\n            <div className='btn'>\n              <span>File</span>\n              <input\n                type='file'\n                // ref={gameFile}\n                id='image'\n                name='image'\n              />\n            </div>\n            <div className='file-path-wrapper'>\n              <input className='file-path validate' type='text' />\n            </div>\n          </div>\n        </div>\n        {/* <div className='row'> */}\n        {/* <form className='col s12'> */}\n        {/* <div className='row'> */}\n        <div className='input-field col s12'>\n          <i className='material-icons prefix'>description</i>\n          <textarea\n            id='icon_prefix2'\n            className='materialize-textarea'\n            // value={description}\n            name='description'\n            // onChange={(e) => setDescription(e.target.value)}\n          ></textarea>\n          <label>Game description</label>\n        </div>\n        {/* </div> */}\n        {/* </form> */}\n        {/* </div> */}\n\n        <button\n          className='btn waves-effect waves-light green darken-3 myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n        >\n          Save\n          <i className='material-icons right'>send</i>\n        </button>\n      </form>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function TextFieldGroup({\n  value,\n  onChange,\n  className,\n  type,\n  name,\n  label,\n  error,\n}) {\n  return (\n    <div className=\"input-field\">\n      <input\n        value={value}\n        onChange={onChange}\n        className={error ? className + \" invalid\" : className}\n        type={type}\n        name={name}\n      />\n      <label>{label}</label>\n      {error && <div>{error}</div>}\n    </div>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { loginUser } from \"../../actions/authActions\"\nimport TextFieldGroup from \"../common/TextFieldGroup\"\n\nconst Login = ({ redirect = \"/home\" }) => {\n  const auth = useSelector((state) => state.auth)\n  const errors = useSelector((state) => state.errors)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const userData = {\n      username,\n      password,\n      errors: {},\n    }\n\n    dispatch(loginUser(userData, history, redirect))\n  }\n\n  useEffect(() => {\n    // console.log(auth)\n    if (auth.player) {\n      history.push(\"/home\")\n    }\n    // eslint-disable-next-line\n  }, [auth])\n\n  return (\n    <div className='container'>\n      <form onSubmit={onSubmit}>\n        <h1>Sign in</h1>\n        <TextFieldGroup\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          className='input-field my-inputfield'\n          type='text'\n          name='username'\n          label='Username'\n          error={errors.username}\n        />\n\n        <TextFieldGroup\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className='input-field my-inputfield'\n          type='password'\n          name='password'\n          label='Password'\n          error={errors.password}\n        />\n\n        <button\n          className='btn waves-effect waves-light brown myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n        >\n          Login\n          <i className='material-icons right'>send</i>\n        </button>\n        <div>\n          <Link\n            to='/register'\n            className='btn waves-effect waves-light brown myBtn'\n            style={{ marginTop: \"2em\" }}\n          >\n            Register\n          </Link>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState, useEffect } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { registerUser } from \"../../actions/authActions\"\nimport TextFieldGroup from \"../common/TextFieldGroup\"\n// Note to self withRouter doesn't work with functional components\n// Perhaps they work\n\nconst Register = () => {\n  const auth = useSelector((state) => state.auth)\n  const errors = useSelector((state) => state.errors)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [passwordTwo, setPasswordTwo] = useState(\"\")\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const newPlayer = {\n      username,\n      password,\n      passwordTwo,\n      errors: {},\n    }\n\n    dispatch(registerUser(newPlayer, history))\n  }\n\n  useEffect(() => {\n    if (auth.player) {\n      // Cheking that if the user is logged in\n      // If thats true then redirect player to home\n      history.push(\"/home\")\n    }\n    // eslint-disable-next-line\n  }, [])\n  console.log(errors)\n  return (\n    <div className=\"container\">\n      {/* {errors.length > 0 && <h1>KAKKA</h1>} */}\n      <form onSubmit={onSubmit}>\n        <h1>Register</h1>\n\n        <TextFieldGroup\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          className=\"input-field my-inputfield\"\n          type=\"text\"\n          name=\"username\"\n          label=\"Username\"\n          error={errors.username}\n        />\n\n        <TextFieldGroup\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className=\"input-field my-inputfield\"\n          type=\"password\"\n          name=\"password\"\n          label=\"Password\"\n          error={errors.password}\n        />\n\n        <TextFieldGroup\n          value={passwordTwo}\n          onChange={(e) => setPasswordTwo(e.target.value)}\n          className=\"input-field my-inputfield\"\n          type=\"password\"\n          name=\"passwordTwo\"\n          label=\"Confirm password\"\n          error={errors.password}\n        />\n\n        <button\n          className=\"btn waves-effect waves-light brown myBtn\"\n          style={{ marginTop: \"2em\" }}\n          type=\"submit\"\n          name=\"action\"\n          disabled={password !== passwordTwo && password.length === 0}\n        >\n          Register\n          <i className=\"material-icons right\">send</i>\n        </button>\n        <div>\n          <Link\n            to=\"/\"\n            className=\"btn waves-effect waves-light brown myBtn\"\n            style={{ marginTop: \"2em\" }}\n          >\n            Login\n          </Link>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Register\n","import React, { useCallback, useEffect, useRef, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { addCharacter } from \"../../actions/characterActions\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\nimport axios from \"axios\"\n// Todo: Subrace(Dwarf => Hill Dwarf) & languages, experience points, background\n\nconst CreateCharacter = () => {\n  // const characters = useSelector((state) => state.characters)\n  const errors = useSelector((state) => state.errors)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [name, setName] = useState(\"\")\n  const [race, setRace] = useState(\"0\")\n  const [characterClass, setCharacterClass] = useState(\"\")\n  // Cannot read property 'map' of undefined. Ylhäältä alas, koska characterClasses.result ei ole vielä olemassa ni tyhjä divi\n  const [characterClasses, setCharacterClasses] = useState(null)\n  const [characterSpells, setCharacterSpells] = useState(null)\n  const [level, setLevel] = useState(\"\")\n  const [alignment, setAlignment] = useState(\"0\")\n  // Reffiä ei voi käyttää useEffectissä, koska se ei re-renderöi\n  const collapsibleRef = useCallback((elem) => {\n    M.Collapsible.init(elem, { inDuration: 3000 })\n    // console.log(elem)\n  })\n\n  let instance = null\n\n  const modalRef = useCallback((elem) => {\n    instance = M.Modal.init(elem)\n    // i.open()\n  })\n\n  // document.addEventListener('DOMContentLoaded', function() {\n  //   var elems = document.querySelectorAll('.modal');\n  //   var instances = M.Modal.init(elems, options);\n  // });\n\n  const getClass = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/classes`)\n      setCharacterClasses(response.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const getSpell = async () => {\n    if (characterClass === \"\") return\n    try {\n      const response = await axios.get(\n        `http://localhost:5000/api/classes/${characterClass}/spells`\n      )\n      setCharacterSpells(response.data)\n      console.log(response.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  // Hateaan spellit vasta kun valitaan joku classi\n  useEffect(() => {\n    getClass()\n    // getSpell()\n  }, [])\n\n  useEffect(() => {\n    // getClass()\n    getSpell()\n  }, [characterClass])\n  // console.log(characterClass)\n  // console.log(characterSpells)\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const newCharacter = {\n      name,\n      race,\n      characterClass,\n      level,\n      alignment,\n      // errors: {},\n    }\n\n    dispatch(addCharacter(newCharacter, history))\n  }\n  // || characterClasses.length === 0)\n  if (!characterClasses) {\n    return <div></div>\n  }\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <div className='container'>\n          <div className='row'>\n            <div className='col s6'>\n              <div className='input-field col s4'>\n                <input\n                  className={errors.name ? \"invalid\" : \"\"}\n                  id='characterName'\n                  type='text'\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n                <label>CHARACTER NAME:</label>\n              </div>\n              <div className='input-field col s4'>\n                <input\n                  className={errors.level ? \"invalid\" : \"\"}\n                  id='level'\n                  type='text'\n                  value={level}\n                  onChange={(e) => setLevel(e.target.value)}\n                />\n                <label>LEVEL:</label>\n              </div>\n            </div>\n          </div>\n\n          <div className='col s12 row'>\n            <div className='col s4'>\n              <label>Race Select</label>\n              <select\n                // className={`browser-default ${errors.race && \"invalid\"}`}\n                className='browser-default'\n                style={{ borderColor: errors.race ? \"red\" : \"\" }}\n                value={race}\n                onChange={(e) => setRace(e.target.value)}\n              >\n                <option value='0' disabled>\n                  Races\n                </option>\n                <option value='Aasimar'>Aasimar</option>\n                <option value='Dragonborn'>Dragonborn</option>\n                <option value='Dwarf'>Dwarf</option>\n                <option value='Elf'>Elf</option>\n                <option value='Gnome'>Gnome</option>\n                <option value='Half-Elf'>Half-Elf</option>\n                <option value='Half-Orc'>Half-Orc</option>\n                <option value='Halfling'>Halfling</option>\n                <option value='Human'>Human</option>\n                <option value='Tiefling'>Tiefling</option>\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Class Select</label>\n              <select\n                className='browser-default'\n                style={{ borderColor: errors.characterClass ? \"red\" : \"\" }}\n                value={characterClass}\n                onChange={(e) => setCharacterClass(e.target.value)}\n              >\n                <option value='' disabled>\n                  Classes\n                </option>\n                {characterClasses.results.map((c, i) => (\n                  <option key={i} value={c.index}>\n                    {c.name}\n                  </option>\n                ))}\n                {/* <option value='Bard'>Bard</option>\n                <option value='Cleric'>Cleric</option>\n                <option value='Druid'>Druid</option>\n                <option value='Other'>Other</option>\n                <option value='Paladin'>Paladin</option>\n                <option value='Ranger'>Ranger</option>\n                <option value='Sorcerer'>Sorcerer</option>\n                <option value='Warlock'>Warlock</option>\n                <option value='Wizard'>Wizard</option> */}\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Alignment Select</label>\n              <select\n                className='browser-default'\n                value={alignment}\n                onChange={(e) => setAlignment(e.target.value)}\n              >\n                <option value='0' disabled>\n                  Alignments\n                </option>\n                <option value='Lawful good'>Lawful good</option>\n                <option value='Lawful neutral'>Lawful neutral</option>\n                <option value='Lawful evil'>Lawful evil</option>\n                <option value='Neutral good'>Neutral good</option>\n                <option value='Neutral'>Neutral</option>\n                <option value='Neutral evil'>Neutral evil</option>\n                <option value='Chaotic good'>Chaotic good</option>\n                <option value='Chaotic neutral'>Chaotic neutral</option>\n                <option value='Chaotic evil'>Chaotic evil</option>\n              </select>\n            </div>\n          </div>\n          {/* <!-- Modal Trigger --> */}\n          <a\n            className='waves-effect waves-light btn'\n            onClick={() => instance.open()}\n            // href='#modal1'\n          >\n            {/* {characterSpells & characterSpells.count} */}\n            Spells ({characterSpells ? characterSpells.count : 0})\n          </a>\n\n          {/* <!-- Modal Structure --> */}\n          <div id='modal1' className='modal modal-fixed-footer' ref={modalRef}>\n            <div className='modal-content'>\n              {/* <h4>{c.index}</h4> */}\n              <ul className='collapsible' ref={collapsibleRef}>\n                {characterClasses.results.map((c, i) => (\n                  <li key={i} value={c.index}>\n                    <div className='collapsible-header'>\n                      <i className='material-icons'>filter_drama</i>\n                      {c.name}\n                    </div>\n                    <div className='collapsible-body'>\n                      <span>Lorem ipsum dolor sit amet.</span>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className='modal-footer'>\n              <a\n                href='#!'\n                className='modal-close waves-effect waves-green btn-flat'\n              >\n                Accept\n              </a>\n            </div>\n          </div>\n          {/* {characterClasses.results.map((c, i) => (\n                  <option key={i} value={c.index}>\n                    {c.name}\n                  </option>\n                ))} */}\n          {/* <ul className='collapsible' ref={collapsibleRef}>\n            {characterClasses.results.map((c, i) => (\n              <li key={i} value={c.index}>\n                <div className='collapsible-header'>\n                  <i className='material-icons'>filter_drama</i>\n                  {c.name}\n                </div>\n                <div className='collapsible-body'>\n                  <span>Lorem ipsum dolor sit amet.</span>\n                </div>\n              </li>\n            ))} */}\n          {/* <li>\n              <div className='collapsible-header'>\n                <i className='material-icons'>filter_drama</i>First\n              </div>\n              <div className='collapsible-body'>\n                <span>Lorem ipsum dolor sit amet.</span>\n              </div>\n            </li> */}\n          {/* <li>\n              <div className='collapsible-header'>\n                <i className='material-icons'>place</i>Second\n              </div>\n              <div className='collapsible-body'>\n                <span>Lorem ipsum dolor sit amet.</span>\n              </div>\n            </li>\n            <li>\n              <div className='collapsible-header'>\n                <i className='material-icons'>whatshot</i>Third\n              </div>\n              <div className='collapsible-body'>\n                <span>Lorem ipsum dolor sit amet.</span>\n              </div>\n            </li> */}\n          {/* </ul> */}\n\n          <div className='row right'>\n            <div className='col'>\n              <button\n                className='btn waves-effect waves-light  grey darken-1 myBtn'\n                style={{ marginTop: \"2em\" }}\n                name='action'\n                onClick={() => history.push(\"/home\")}\n              >\n                Cancel\n                <i className='material-icons right'>cancel</i>\n              </button>\n            </div>\n            <div className='col '>\n              <button\n                className='btn waves-effect waves-light green darken-4 myBtn'\n                style={{ marginTop: \"2em\" }}\n                type='submit'\n                name='action'\n              >\n                Save\n                <i className='material-icons right'>send</i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default CreateCharacter\n","// Todo: List my games(as a dungeon master)\n\nimport React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { addGame } from \"../../actions/gameActions\"\n\nconst DungeonMaster = () => {\n  const errors = useSelector((state) => state.errors)\n  // const games = useSelector((state) => state.games.games)\n  const player = useSelector((state) => state.auth.player)\n  const games = useSelector((state) =>\n    state.games.games.filter((game) => game.dungeonmaster._id === player.id)\n  )\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  // console.log(games)\n\n  const [name, setName] = useState(\"\")\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const newGame = {\n      name,\n    }\n    dispatch(addGame(newGame, history, true))\n    setName(\"\")\n  }\n\n  return (\n    <div className='container'>\n      <form onSubmit={onSubmit}>\n        <div className=''>\n          <Link to='/create-game'>Create a full game</Link>\n          <p>Quick start a new game</p>\n        </div>\n        <div className='input-field col s6'>\n          <i className='material-icons prefix'>people</i>\n          <input\n            id='icon_prefix'\n            type='text'\n            className={errors.name ? \"invalid\" : \"\"}\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <label className={name !== \"\" ? \"active\" : \"\"}>Game Name</label>\n          <button\n            className='btn waves-effect waves-light green darken-3 myBtn'\n            style={{ marginTop: \"2em\" }}\n            type='submit'\n            name='action'\n          >\n            Save\n            <i className='material-icons right'>send</i>\n          </button>\n        </div>\n      </form>\n\n      <ul className='collection with-header'>\n        <li className='collection-header brown lighten-5'>\n          <h5>Your adventures</h5>\n        </li>\n        {games.map((game, i) => (\n          <Link key={i} to={`game-info/${game._id}`}>\n            <li\n              className='collection-item'\n              style={{\n                fontSize: \"1.1em\",\n                marginTop: \"0.5em\",\n                backgroundColor: i % 2 !== 0 ? \"#efebe9\" : \"\",\n              }}\n            >\n              {game.name}\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default DungeonMaster\n","import React from \"react\"\nimport { useSelector } from \"react-redux\"\n\nexport default function WelcomeBar() {\n  const player = useSelector((state) => state.auth.player)\n  // console.log(player)\n\n  if (!player) {\n    return <div></div>\n  }\n  return (\n    <div className='container' style={{ marginBottom: \"1.5em\" }}>\n      <h5 className='welcomeText'>\n        Welcome,{\"  \"}{\" \"}\n        <span className='playerWelcomeName'>\n          {player.username}\n          {\"  \"}{\" \"}\n        </span>\n        <span style={{ fontSize: \"25px\", color: \"Mediumslateblue\" }}>\n          <i className='fas fa-hat-wizard'></i>\n        </span>\n        <br></br>Are you ready to start your adventure?{\"  \"}\n        {\"  \"}\n      </h5>\n    </div>\n  )\n}\n","// For DM to see\nimport React from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { deleteGame } from \"../../actions/gameActions\"\n// Todo: Tarina (Peruskuvaus, karttakuva), Muut pelaajat,\n// Ehtolause jos DM näyttää  DM jutut\n\nexport default function GameInfo({ match }) {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  // Filtteröi peleistä pelin, jonka id on sama kuin urlin id ja ottaa listasta ensimmäisen\n  const game = useSelector(\n    (state) =>\n      state.games.games.filter((game) => game._id === match.params.id)[0]\n  )\n  const player = useSelector((state) => state.auth.player)\n  const characters = useSelector((state) => state.characters.characters)\n\n  // Räyh\n  if (!game) {\n    return <div></div>\n  }\n  // console.log(\"GAMEFILE:\", game.gameFile)\n  // console.log(\"Herepeli\")\n  return (\n    <div className='container'>\n      <div className='dragonIcon'>\n        <i className='fas fa-dragon'></i>\n      </div>\n      <div className='row'>\n        <div className='col s6'>\n          <div className='card-panel brown lighten-2'>\n            <h6>Dungeon master</h6>\n            <span\n              className='white-text'\n              style={{ textTransform: \"capitalize\" }}\n            >\n              {game.dungeonmaster.username}\n            </span>\n            <h6>Game name</h6>\n            <span\n              className='white-text'\n              style={{ textTransform: \"capitalize\" }}\n            >\n              {game.name}\n            </span>\n            <h6>Characters in this game</h6>\n            {game.characters.map((character, i) => (\n              <span key={i} className='white-text'>\n                {character.name} -{\" \"}\n              </span>\n            ))}\n          </div>\n        </div>\n\n        <div className='col s6'>\n          <div className='card-panel brown lighten-2'>\n            <h6> Game description</h6>\n            <span className='white-text'>{game.description}</span>\n          </div>\n        </div>\n      </div>\n      {/* Piirtää kuvan, jos ehto täyttyy ei enään erroria gameFile.type */}\n      {game.gameFile && (\n        <img\n          src={`data:${game.gameFile.type};base64,${atob(game.gameFile.data)}`}\n          alt='uploaded'\n        />\n      )}\n      <div className='row'>\n        <div className='col s12'>\n          <div className='card-panel brown lighten-2'>\n            <h6> Share this invite to people to join:</h6>\n            <span className='white-text'>\n              {`http://localhost:3000/joingame/${game._id}?secret=${game.secret}`}\n            </span>\n            <button\n              className='waves-effect waves-light btn-small'\n              style={{ marginLeft: \"3.5em\", backgroundColor: \"mediumpurple\" }}\n              onClick={() =>\n                navigator.clipboard.writeText(\n                  `http://localhost:3000/joingame/${game._id}?secret=${game.secret}`\n                )\n              }\n            >\n              Copy\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className='col '>\n        <button\n          className='btn waves-effect waves-light red darken-4 myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n          onClick={(e) => {\n            e.preventDefault()\n            dispatch(deleteGame(game._id, history))\n          }}\n        >\n          Delete\n          <i className='material-icons right'>delete</i>\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport axios from \"../../utils/axiosService\"\nimport Login from \"../auth/Login\"\n\nimport { joinGame } from \"../../actions/gameActions\"\n// Todo: Näytä punanen korostus errori, jos hahmo on liittyny peliin\n// Todo: luo hahmo vaihtoehto, jos ei ole hahmoa\n\nexport default function JoinGame({ match, location }) {\n  // Filtteröi peleistä pelin, jonka id on sama kuin urlin id ja ottaa listasta ensimmäisen\n  // const game = useSelector(\n  //   (state) =>\n  //     state.games.games.filter((game) => game._id === match.params.id)[0]\n  // )\n\n  const auth = useSelector((state) => state.auth)\n\n  const [game, setGame] = useState(null)\n  const secret = new URLSearchParams(location.search).get(\"secret\")\n  // console.log(secret)\n  // const player = useSelector((state) => state.auth.player)\n  const characters = useSelector((state) => state.characters.characters)\n  const [character, setCharacter] = useState(\"\")\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n  console.log(history.location)\n  const onSubmit = () => {\n    dispatch(joinGame(game._id, character, history))\n  }\n\n  const getGame = async () => {\n    try {\n      const game = await axios.get(\n        `http://localhost:5000/api/games/${match.params.id}/${secret}`\n      )\n      setGame(game.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  useEffect(() => {\n    getGame()\n  }, [auth])\n  // console.log(game)\n\n  const notAuthed = () => {\n    if (!auth.player) {\n      return (\n        // <Login redirect={history.location.pathname + history.location.search} />\n        <Login redirect={false} />\n      )\n    }\n  }\n  // Palauttaa tyhjän kunnes peli on haettu\n  const authLinks = !game ? (\n    <div></div>\n  ) : (\n    <div className='container'>\n      <div className='dragonIcon'>\n        <i className='fas fa-dragon'></i>\n      </div>\n\n      <div className='row'>\n        <div className='col s12 m6'>\n          <div className='card-panel brown lighten-2'>\n            <h6>Dungeon master</h6>\n            <span className='white-text'>{game.dungeonmaster.username}</span>\n            <h6>Game name</h6>\n            <span className='white-text'>{game.name}</span>\n          </div>\n        </div>\n        {/*  */}\n        <div className='col s12 m6'>\n          <div className='card-panel brown lighten-2'>\n            <h6> Game description</h6>\n            <span className='white-text'>{game.description}</span>\n          </div>\n        </div>\n      </div>\n      <label className='joinGameHeader'>\n        Choose a character to join a game\n      </label>\n      <select\n        className='browser-default'\n        onChange={(e) => setCharacter(e.target.value)}\n        defaultValue=''\n      >\n        <option value='' disabled>\n          Choose your character\n        </option>\n        {characters.map((character) => (\n          <option key={character._id} value={character._id}>\n            {character.name}, {character.race} {character.characterClass}\n          </option>\n        ))}\n      </select>\n      <div className='row right'>\n        <button\n          onClick={onSubmit}\n          className='btn waves-effect waves-light green darken-4 myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n          disabled={character === \"\"}\n        >\n          Join\n          <i className='material-icons right'>send</i>\n        </button>\n      </div>\n    </div>\n  )\n  // console.log(game)\n  return <div>{auth.player ? authLinks : notAuthed()}</div>\n}\n","import React, { Fragment, useEffect } from \"react\"\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"\nimport jwt_decode from \"jwt-decode\"\nimport { setToken } from \"./utils/axiosService\"\nimport Navbar from \"./components/layouts/Navbar\"\nimport SearchBar from \"./components/layouts/SearchBar\"\nimport Characters from \"./components/characters/Characters\"\nimport Character from \"./components/characters/Character\"\nimport Settings from \"./components/settings/Settings\"\nimport Games from \"./components/games/Games\"\nimport Game from \"./components/games/Game\"\nimport CreateGame from \"./components/games/CreateGame\"\nimport Login from \"./components/auth/Login\"\nimport Register from \"./components/auth/Register\"\nimport CreateCharacter from \"./components/create-character/CreateCharacter\"\nimport DungeonMaster from \"./components/dungeonmaster/DungeonMaster\"\nimport \"materialize-css/dist/css/materialize.min.css\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\nimport \"./App.css\"\nimport WelcomeBar from \"./components/layouts/WelcomeBar\"\nimport { setCurrentPlayer } from \"./actions/authActions\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { getCharacters } from \"./actions/characterActions\"\nimport { getGames } from \"./actions/gameActions\"\nimport GameInfo from \"./components/games/GameInfo\"\nimport JoinGame from \"./components/games/JoinGame\"\n\nfunction App() {\n  const dispatch = useDispatch()\n  const player = useSelector((state) => state.auth.player)\n  useEffect(() => {\n    // console.log(localStorage.accessToken)\n    // Check for token from localStorage (logic for refreshing the page so the token doesn't disappear)\n    if (localStorage.accessToken) {\n      // Set auth token header auth\n      setToken(localStorage.accessToken)\n      // Decode token and get user info and exp\n      const decoded = jwt_decode(localStorage.accessToken)\n      // Set user and isAuthenticated\n      // console.log(decoded)\n      dispatch(setCurrentPlayer(decoded.player))\n\n      //   // Check for expired token\n      //   const currentTime = Date.now() / 1000;\n      //   if (decoded.exp < currentTime) {\n      //     // If the expiration time is less than the current time\n      //     // Logout user\n      //     dispatch(logoutUser());\n      //     // TODO: Clear current profile\n      //     store.dispatch(clearCurrentProfile());\n      //     // Redirect to login\n      //     window.location.href = \"/login\";\n      //   }\n    }\n  }, [])\n\n  useEffect(() => {\n    // If player is not logged in, do nothing\n    if (!player) return\n    // Get data from backend to Redux immediately on first render\n    dispatch(getCharacters())\n    dispatch(getGames())\n  }, [player])\n  useEffect(() => {\n    // Init Materialize JS\n    M.AutoInit()\n  })\n  return (\n    <Router>\n      <Fragment>\n        <Navbar />\n        <Switch>\n          <Route exact path='/' component={Login} />\n          <Route exact path='/register' component={Register} />\n          <Route\n            exact\n            path='/home'\n            render={() => (\n              <div className='container'>\n                <div className='dragonIcon'>\n                  <i className='fas fa-dragon'></i>\n                </div>\n                <SearchBar />\n                <WelcomeBar />\n\n                <Characters />\n                <Games />\n              </div>\n            )}\n          />\n\n          <Route exact path='/character/:id' component={Character} />\n          <Route exact path='/game/:id' component={Game} />\n          <Route exact path='/game-info/:id' component={GameInfo} />\n          <Route exact path='/create-character' component={CreateCharacter} />\n          <Route exact path='/dungeonmaster' component={DungeonMaster} />\n          <Route exact path='/settings' component={Settings} />\n          <Route exact path='/create-game' component={CreateGame} />\n          <Route exact path='/joingame/:id' component={JoinGame} />\n        </Switch>\n      </Fragment>\n    </Router>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { SET_CURRENT_PLAYER } from \"../actions/types\"\n\nconst initialState = {\n  player: null\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_CURRENT_PLAYER:\n      // console.log(action)\n      return {\n        ...state,\n        player: action.payload,\n      }\n    default:\n      return state\n  }\n}\n","import { GET_ERRORS, CLEAR_ERRORS } from \"../actions/types\"\n\nconst initialState = {}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case GET_ERRORS:\n      return action.payload\n    case CLEAR_ERRORS:\n      // console.log(\"errorireducertoimii\")\n      return {}\n    default:\n      return state\n  }\n}\n","import {\n  ADD_CHARACTER,\n  SET_CHARACTERS,\n  UPDATE_CHARACTER,\n  DELETE_CHARACTER,\n} from \"../actions/types\"\n\nconst initialState = {\n  characters: [],\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case ADD_CHARACTER:\n      return {\n        ...state,\n        // [...state.characters] = old array action.newCharacter new object to be added to array\n        characters: [action.newCharacter, ...state.characters],\n      }\n    case DELETE_CHARACTER:\n      // console.log(\"Delete Rducer\")\n      return {\n        ...state,\n        // Vanhasta listasta filtteröidään pois character, jonka id on annettu action.payloadina\n        characters: state.characters.filter(\n          (character) => character._id !== action.payload\n        ),\n      }\n    case SET_CHARACTERS:\n      // console.log(action)\n      return {\n        ...state,\n        // Asetetaan listaksi annettu lista (korvataan vanha lista uudella annetulla listalla)\n        characters: [...action.payload],\n      }\n    case UPDATE_CHARACTER:\n      console.log(action.payload)\n      return {\n        ...state,\n        // Jos on sama id niin päivitetään characteria, jos ei ole niin annetaan olla vanha\n        characters: state.characters.map((character) =>\n          character._id === action.payload._id ? action.payload : character\n        ),\n      }\n    default:\n      return state\n  }\n}\n","import { SET_GAMES, ADD_GAME, DELETE_GAME } from \"../actions/types\"\n\nconst initialState = {\n  games: [],\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_GAMES:\n      return {\n        ...state,\n        games: action.payload,\n      }\n    case ADD_GAME:\n      console.log(\"ADD REDUCER\", action)\n      return {\n        ...state,\n        games: [action.payload, ...state.games],\n      }\n    case DELETE_GAME:\n      return {\n        ...state,\n        // Vanhasta listasta filtteröidään pois peli, jonka id on annettu action.payloadina\n        games: state.games.filter((game) => game._id !== action.payload),\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from \"redux\"\nimport authReducer from \"./authReducer\"\nimport errorReducer from \"./errorReducer\"\nimport characterReducer from \"./characterReducer\"\nimport gameReducer from './gameReducer'\n\nexport default combineReducers({\n  auth: authReducer,\n  errors: errorReducer,\n  characters: characterReducer,\n  games: gameReducer,\n})\n","import { createStore, applyMiddleware } from \"redux\"\nimport { composeWithDevTools } from \"redux-devtools-extension\"\nimport thunk from \"redux-thunk\"\nimport rootReducer from \"./reducers/index\"\n\nconst initialState = {}\n\nconst middleware = [thunk]\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n)\n\nexport default store\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\nimport { Provider } from \"react-redux\"\nimport store from \"./store\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}