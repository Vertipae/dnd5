{"version":3,"sources":["utils/axiosService.js","utils/validator.js","actions/authActions.js","actions/types.js","components/layouts/Navbar.js","components/layouts/SearchBar.js","components/characters/Characters.js","utils/baseurl.js","actions/characterActions.js","components/characters/Character.js","components/settings/Settings.js","components/games/Games.js","components/games/PictureModal.js","components/games/Game.js","actions/gameActions.js","components/games/CreateGame.js","components/common/TextFieldGroup.js","components/auth/Login.js","components/auth/Register.js","components/common/Spinner.js","components/create-character/SpellsModal.js","components/create-character/CreateCharacter.js","components/dungeonmaster/DungeonMaster.js","components/layouts/WelcomeBar.js","components/games/GameInfo.js","components/games/JoinGame.js","App.js","serviceWorker.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/characterReducer.js","reducers/gameReducer.js","reducers/index.js","store.js","index.js"],"names":["setToken","token","window","localStorage","setItem","axios","defaults","headers","common","removeItem","getItem","init","isEmpty","value","undefined","Object","keys","length","trim","formatErrors","errors","returnedErrors","forEach","key","msg","validateRegistration","userData","username","password","validateLogin","validateAddCharacter","characterData","name","level","race","characterClass","alignment","validateAddGame","gameData","BASE_URL","setCurrentPlayer","decoded","type","payload","logoutUser","dispatch","withRouter","props","auth","useSelector","state","useDispatch","history","useHistory","onLogoutClick","push","authLinks","className","style","marginLeft","display","flexDirection","width","justifyContent","to","color","href","data-target","id","location","pathname","marginRight","onClick","guestLinks","player","SearchBar","useState","searchTerm","setSearchTerm","searchResults","setSearchResults","characters","useEffect","results","filter","character","toLowerCase","includes","marginTop","onChange","e","target","autoComplete","placeholder","htmlFor","backgroundColor","map","item","i","_id","Characters","fontSize","textTransform","BASE_URL_FRONT","getCharacters","a","get","res","data","console","log","Character","match","params","setCharacter","characterClasses","setCharacterClasses","getClass","response","onSubmit","preventDefault","put","updateCharacter","c","index","delete","deleteCharacter","Settings","Games","games","game","PictureModal","gameFile","src","atob","alt","Game","M","AutoInit","dungeonmaster","some","char","description","getGames","addGame","quick","setTimeout","post","joinGame","gameId","characterId","characterSelect","deleteGame","CreateGame","setName","setDescription","file","setFile","newGame","JSON","stringify","encType","files","reader","FileReader","onload","btoa","result","readAsBinaryString","TextFieldGroup","label","error","Login","redirect","setUsername","setPassword","jwt_decode","loginUser","Register","passwordTwo","setPasswordTwo","registerUser","disabled","Spinner","modalStyle","height","SpellsModal","characterSpells","setParentSpells","parentSpells","activeSpell","setActiveSpell","spells","setSpells","collapsibleRef","useCallback","elem","Collapsible","onOpenStart","count","ref","zIndex","spell","checked","desc","CreateCharacter","setRace","setCharacterClass","setCharacterSpells","setLevel","setAlignment","getSpell","newCharacter","addCharacter","borderColor","DungeonMaster","WelcomeBar","marginBottom","GameInfo","secret","navigator","clipboard","writeText","JoinGame","setGame","URLSearchParams","search","getGame","defaultValue","notAuthed","App","useLocation","accessToken","currentTime","Date","now","exp","exact","path","component","render","Boolean","hostname","initialState","combineReducers","action","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a745ebcc.chunk.js","sourcesContent":["// Purpose of this file is to add authorization to token on every requests when user is logged in\nimport axios from \"axios\"\n\nconst init = () => {\n  const token = window.localStorage.getItem(\"accessToken\")\n  setToken(token)\n}\n\nexport const setToken = (token) => {\n  if (token) {\n    window.localStorage.setItem(\"accessToken\", token)\n    axios.defaults.headers.common[\"x-auth-token\"] = token\n  } else {\n    window.localStorage.removeItem(\"accessToken\")\n    delete axios.defaults.headers.common[\"x-auth-token\"]\n  }\n}\n\n\ninit()\n\nexport default axios\n","export const isEmpty = (value) =>\n  value === undefined ||\n  value === null ||\n  value === 0 ||\n  (typeof value === \"object\" && Object.keys(value).length === 0) || // Checking for empty object\n  (typeof value === \"string\" && value.trim().length === 0) // Checking for empty string\n\nexport const formatErrors = (errors) => {\n  const returnedErrors = {}\n  Object.keys(errors).forEach((key) => {\n    returnedErrors[key] = errors[key].msg\n  })\n\n  return returnedErrors\n}\nexport const validateRegistration = (userData) => {\n  let errors = { username: null, password: null }\n\n  if (isEmpty(userData.username)) errors.username = \"Username is required\"\n  if (userData.password.length < 6)\n    errors.password = \"Please enter a password with 6 or more characters\"\n\n  return errors\n}\n\nexport const validateLogin = (userData) => {\n  let errors = { username: null, password: null }\n\n  if (isEmpty(userData.username)) errors.username = \"Username is required\"\n  if (isEmpty(userData.password)) errors.password = \"Password is required\"\n\n  return errors\n}\n\nexport const validateAddCharacter = (characterData) => {\n  let errors = {\n    name: null,\n    level: null,\n    race: null,\n    characterClass: null,\n    alignment: null,\n  }\n  if (isEmpty(characterData.name)) errors.name = \"Name is required\"\n  if (isEmpty(characterData.level)) errors.level = \"Level is required\"\n  if (characterData.race === \"0\") errors.race = \"Race is required\"\n  if (characterData.characterClass === \"0\")\n    errors.characterClass = \"Class is required\"\n  return errors\n}\n\nexport const validateAddGame = (gameData) => {\n  let errors = {\n    name: null,\n  }\n  if (isEmpty(gameData.name)) errors.name = \"Name is required\"\n  return errors\n}\n\nexport default { isEmpty, validateRegistration, formatErrors }\n","import axios, { setToken } from \"../utils/axiosService\"\nimport jwt_decode from \"jwt-decode\"\nimport {\n  GET_ERRORS,\n  CLEAR_ERRORS,\n  SET_CURRENT_PLAYER,\n  SET_CHARACTERS,\n  SET_GAMES,\n} from \"./types\"\nimport {\n  formatErrors,\n  validateLogin,\n  validateRegistration,\n} from \"../utils/validator\"\n\nconst BASE_URL =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://vankiloitajalohkuja.herokuapp.com\"\n    : \"http://localhost:5000\"\n\nexport const registerUser = (userData, history) => async (dispatch) => {\n  try {\n    const errors = validateRegistration(userData)\n    if (errors.username || errors.password) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        // console.log(\"erroriactiontoimi\")\n        dispatch({\n          type: CLEAR_ERRORS,\n          // payload: null,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(BASE_URL + \"/api/players\", userData)\n      setToken(res.data.token)\n      // Log player in after registration\n      const decoded = jwt_decode(res.data.token)\n      // console.log(decoded)\n      dispatch(setCurrentPlayer(decoded.player))\n      history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n    if (err.response.data.errors) {\n      const errors = formatErrors(err.response.data.errors)\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n    } else {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data.msg,\n      })\n    }\n  }\n}\n\n// Login get user token\nexport const loginUser = (userData, history, redirect = \"/home\") => async (\n  dispatch\n) => {\n  try {\n    const errors = validateLogin(userData)\n    // console.log(\"errors_1\", errors)\n    if (errors.username || errors.password) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(\n        BASE_URL + \"/api/auth/login\",\n        // Se body\n        userData\n      )\n      setToken(res.data.token)\n      const decoded = jwt_decode(res.data.token)\n      dispatch(setCurrentPlayer(decoded.player))\n      if (redirect) history.push(redirect)\n    }\n  } catch (err) {\n    console.log(\"err\", err)\n    const errors = formatErrors(err.response.data.errors)\n    dispatch({\n      type: GET_ERRORS,\n      payload: errors,\n    })\n    setTimeout(() => {\n      dispatch({\n        type: CLEAR_ERRORS,\n      })\n    }, 5000)\n  }\n}\n\nexport const setCurrentPlayer = (decoded) => {\n  // console.log(decoded)\n  return {\n    type: SET_CURRENT_PLAYER,\n    payload: decoded,\n  }\n}\n\nexport const logoutUser = () => (dispatch) => {\n  // Remove token localStorage\n  setToken(null)\n  dispatch(setCurrentPlayer(null))\n  dispatch({\n    type: SET_CHARACTERS,\n    payload: [],\n  })\n  dispatch({\n    type: SET_GAMES,\n    payload: [],\n  })\n}\n","export const SET_CURRENT_PLAYER = \"SET_CURRENT_PLAYER\"\nexport const GET_ERRORS = \"GET ERRORS\"\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\"\nexport const ADD_CHARACTER = \"ADD_CHARACTER\"\nexport const SET_CHARACTERS = \"SET_CHARACTERS\"\nexport const UPDATE_CHARACTER = \"UPDATE_CHARACTER\"\nexport const DELETE_CHARACTER = \"DELETE_CHARACTER\"\nexport const ADD_GAME = \"ADD_GAME\"\nexport const SET_GAMES = \"SET_GAMES\"\nexport const DELETE_GAME = \"DELETE_GAME\"\n","// import { addListener } from \"nodemon\"\nimport React from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { Link, withRouter, useHistory } from \"react-router-dom\"\nimport { logoutUser } from \"../../actions/authActions\"\n\nconst Navbar = (props) => {\n  // console.log(props.location.pathname);\n  // console.log(props);\n\n  const auth = useSelector((state) => state.auth)\n  const dispatch = useDispatch()\n\n  const history = useHistory()\n\n  const onLogoutClick = () => {\n    dispatch(logoutUser())\n    history.push(\"/\")\n  }\n\n  const authLinks = (\n    <nav>\n      <div className='nav-wrapper brown'>\n        <div\n          className='left'\n          style={{\n            marginLeft: \"15px\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            width: \"5em\",\n            justifyContent: \"space-around\",\n          }}\n        >\n          <Link to='/home'>\n            <i className='fas fa-home' style={{ color: \"#fbe2dd\" }}></i>\n          </Link>\n          <Link to='/settings'>\n            <i className='material-icons' style={{ color: \"#fbe2dd\" }}>\n              settings\n            </i>\n          </Link>\n        </div>\n\n        <Link to='/home' className='brand-logo center mybrand-logo'>\n          <i className='fas fa-dragon'></i>\n          DnD5\n        </Link>\n        <a href='#' data-target='mobile-demo' className='sidenav-trigger right'>\n          <i className='material-icons'>menu</i>\n        </a>\n        <ul id='nav-mobile' className='right hide-on-med-and-down'>\n          <li\n            className={`align-center ${\n              props.location.pathname === \"/create-character\" ? \"active\" : null\n            }`}\n          >\n            <Link to='/create-character' className='align-center'>\n              <i\n                className='material-icons'\n                style={{ color: \"Mediumslateblue\" }}\n              >\n                add\n              </i>\n              Character\n            </Link>\n          </li>\n          <li\n            className={`${\n              props.location.pathname === \"/dungeonmaster\" ? \"active\" : null\n            }`}\n          >\n            <Link to='/dungeonmaster'>Dungeon Master</Link>\n          </li>\n\n          <li>\n            <button\n              className='btn waves-effect waves-light'\n              style={{ marginRight: \"15px\", marginLeft: \"7px\" }}\n              onClick={onLogoutClick}\n            >\n              Logout\n            </button>\n          </li>\n        </ul>\n      </div>\n      <ul className='sidenav' id='mobile-demo'>\n        <li>\n          <Link to='/create-character'>Character</Link>\n        </li>\n\n        <li>\n          <Link to='/dungeonmaster'>Dungeon Master</Link>\n        </li>\n\n        <li>\n          <button\n            className='btn waves-effect waves-light'\n            style={{ marginLeft: \"20px\" }}\n            onClick={onLogoutClick}\n          >\n            Logout\n          </button>\n        </li>\n      </ul>\n    </nav>\n  )\n\n  const guestLinks = (\n    <nav>\n      {\" \"}\n      <div className='nav-wrapper brown'>\n        <Link to='/' className='brand-logo center mybrand-logo'>\n          <i className='fas fa-dragon'></i>\n          DnD5\n        </Link>\n        {/* <Link to='/' style={{ marginLeft: \"15px\" }}>\n          <i className='fas fa-home' style={{ color: \"Mediumslateblue\" }}></i>\n        </Link> */}\n      </div>\n    </nav>\n  )\n\n  return (\n    <nav>\n      <div className='nav-wrapper brown'>\n        {auth.player ? authLinks : guestLinks}\n      </div>\n    </nav>\n  )\n}\n\nexport default withRouter(Navbar)\n","import React, { useState, useEffect } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\n\nconst SearchBar = () => {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [searchResults, setSearchResults] = useState([])\n\n  const characters = useSelector((state) => state.characters.characters)\n\n  useEffect(() => {\n    const results = characters.filter((character) =>\n      searchTerm !== \"\"\n        ? character.name.toLowerCase().includes(searchTerm)\n        : false\n    )\n    setSearchResults(results)\n  }, [searchTerm])\n  // console.log(searchResults)\n\n  return (\n    <nav style={{ marginTop: \"30px\" }} className='brown lighten-5 container'>\n      <div className='nav-wrapper'>\n        <form>\n          <div className='input-field'>\n            <input\n              id='search'\n              type='search'\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              autoComplete='off'\n              placeholder='Search character'\n            />\n            <label className='label-icon' htmlFor='search'>\n              <i className='material-icons'>search</i>\n            </label>\n            <i className='material-icons'>close</i>\n            {searchResults.length < 1 ? null : (\n              <ul className='collection' style={{ backgroundColor: \"white\" }}>\n                {searchResults.map((item, i) => (\n                  <Link key={i} to={`character/${item._id}`}>\n                    <li className='collection-item' style={{ color: \"black\" }}>\n                      {item.name}\n                    </li>\n                  </Link>\n                ))}\n              </ul>\n            )}\n          </div>\n        </form>\n      </div>\n    </nav>\n  )\n}\n\nexport default SearchBar\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\n\nconst Characters = () => {\n  const characters = useSelector((state) => state.characters.characters)\n\n  // console.log(characters)\n\n  return (\n    <div className='container'>\n      <ul className='collection with-header'>\n        <li className='collection-header brown lighten-3'>\n          <h5>Characters</h5>\n        </li>\n        {characters.map((character, i) => (\n          <Link key={character._id} to={`character/${character._id}`}>\n            <li\n              className='collection-item'\n              style={{\n                fontSize: \"1.1em\",\n                marginTop: \"0.5em\",\n                backgroundColor: i % 2 !== 0 ? \"#efebe9\" : \"\",\n                textTransform: \"capitalize\",\n              }}\n            >\n              {character.name}, {character.race} {character.characterClass}\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Characters\n","const BASE_URL =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://vankiloitajalohkuja.herokuapp.com\"\n    : \"http://localhost:5000\"\n\nexport const BASE_URL_FRONT =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://vankiloitajalohkuja.herokuapp.com\"\n    : \"http://localhost:3000\"\n\nexport default BASE_URL\n","import {\n  SET_CHARACTERS,\n  ADD_CHARACTER,\n  UPDATE_CHARACTER,\n  DELETE_CHARACTER,\n  GET_ERRORS,\n  CLEAR_ERRORS,\n} from \"./types\"\nimport axios from \"axios\"\nimport { validateAddCharacter } from \"../utils/validator\"\nimport BASE_URL from \"../utils/baseurl\"\n\nexport const addCharacter = (characterData, history) => async (dispatch) => {\n  console.log(\"ChaeactterData:\", characterData)\n  try {\n    const errors = validateAddCharacter(characterData)\n    console.log(errors)\n    if (errors.name || errors.level || errors.race || errors.characterClass) {\n      console.log(\"errorijtn\")\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        // console.log(\"erroriactiontoimi\")\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(BASE_URL + \"/api/characters\", characterData)\n      dispatch({\n        type: ADD_CHARACTER,\n        newCharacter: res.data,\n      })\n      console.log(\"Character added successfully\")\n      history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const updateCharacter = (characterData, history) => async (dispatch) => {\n  try {\n    const res = await axios.put(\n      BASE_URL + `/api/characters/${characterData._id}`,\n      characterData\n    )\n    dispatch({\n      type: UPDATE_CHARACTER,\n      payload: res.data,\n    })\n    console.log(\"Character updated successfully\")\n    history.push(\"/home\")\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const deleteCharacter = (id, history) => async (dispatch) => {\n  // console.log(\"DeleteAction\")\n  try {\n    const res = await axios.delete(BASE_URL + `/api/characters/${id}`)\n    dispatch({\n      type: DELETE_CHARACTER,\n      payload: res.data._id,\n    })\n    // console.log(\"Character deleted successfully\")\n    history.push(\"/home\")\n  } catch (err) {\n    console.log(err)\n    // console.log('eroririririririr')\n  }\n}\n\nexport const getCharacters = () => async (dispatch) => {\n  // console.log(\"GetCharacterAction\")\n  try {\n    const res = await axios.get(BASE_URL + \"/api/characters\")\n    // console.log(res)\n    dispatch({\n      type: SET_CHARACTERS,\n      payload: res.data,\n    })\n  } catch (err) {\n    console.log(err)\n  }\n}\n","import React, { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  deleteCharacter,\n  updateCharacter,\n} from \"../../actions/characterActions\"\nimport axios from \"axios\"\nimport BASE_URL from \"../../utils/baseurl\"\n\nconst Character = ({ match }) => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [character, setCharacter] = useState(\n    useSelector(\n      (state) =>\n        state.characters.characters.filter(\n          (character) => character._id === match.params.id\n        )[0]\n    )\n  )\n\n  const [characterClasses, setCharacterClasses] = useState(null)\n\n  const getClass = async () => {\n    try {\n      const response = await axios.get(`${BASE_URL}/api/classes`)\n      setCharacterClasses(response.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  useEffect(() => {\n    getClass()\n  }, [])\n\n  // console.log(characterClass)\n  // console.log(character)\n  if (!characterClasses) {\n    return <div></div>\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    dispatch(updateCharacter(character, history))\n  }\n\n  if (!character) {\n    return <div></div>\n  }\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <div className='container'>\n          <div className='row'>\n            <div className='col s6'>\n              <div className='input-field col s4'>\n                <input\n                  id='characterName'\n                  type='text'\n                  value={character.name}\n                  onChange={(e) =>\n                    setCharacter({ ...character, name: e.target.value })\n                  }\n                />\n                <label className='active'>CHARACTER NAME:</label>\n              </div>\n              <div className='input-field col s4'>\n                <input\n                  id='level'\n                  type='text'\n                  value={character.level}\n                  onChange={(e) =>\n                    setCharacter({ ...character, level: e.target.value })\n                  }\n                />\n                <label className='active'>LEVEL:</label>\n              </div>\n            </div>\n          </div>\n\n          <div className='col s12 row'>\n            <div className='col s4'>\n              <label>Race Select</label>\n              <select\n                className='browser-default'\n                value={character.race}\n                onChange={(e) =>\n                  setCharacter({ ...character, race: e.target.value })\n                }\n              >\n                {/* <option value={characterRace} disabled>\n                Races\n              </option> */}\n                <option value='Aasimar'>Aasimar</option>\n                <option value='Dragonborn'>Dragonborn</option>\n                <option value='Dwarf'>Dwarf</option>\n                <option value='Elf'>Elf</option>\n                <option value='Gnome'>Gnome</option>\n                <option value='Half-Elf'>Half-Elf</option>\n                <option value='Half-Orc'>Half-Orc</option>\n                <option value='Halfling'>Halfling</option>\n                <option value='Human'>Human</option>\n                <option value='Tiefling'>Tiefling</option>\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Class Select</label>\n              <select\n                className='browser-default'\n                value={character.characterClass}\n                onChange={(e) =>\n                  setCharacter({ ...character, characterClass: e.target.value })\n                }\n              >\n                {characterClasses.results.map((c, i) => (\n                  <option key={i} value={c.index}>\n                    {c.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Alignment Select</label>\n              <select\n                className='browser-default'\n                value={character.alignment}\n                onChange={(e) =>\n                  setCharacter({ ...character, alignment: e.target.value })\n                }\n              >\n                {/* <option value={characterAlignment} disabled>\n                Alignments\n              </option> */}\n                <option value='Lawful good'>Lawful good</option>\n                <option value='Lawful neutral'>Lawful neutral</option>\n                <option value='Lawful evil'>Lawful evil</option>\n                <option value='Neutral good'>Neutral good</option>\n                <option value='Neutral'>Neutral</option>\n                <option value='Neutral evil'>Neutral evil</option>\n                <option value='Chaotic good'>Chaotic good</option>\n                <option value='Chaotic neutral'>Chaotic neutral</option>\n                <option value='Chaotic evil'>Chaotic evil</option>\n              </select>\n            </div>\n          </div>\n          <div className='row right'>\n            <div className='col'>\n              <button\n                className='btn waves-effect waves-light  grey darken-1 myBtn'\n                style={{ marginTop: \"2em\" }}\n                name='action'\n                onClick={() => history.push(\"/home\")}\n              >\n                Cancel\n                <i className='material-icons right'>cancel</i>\n              </button>\n            </div>\n            <div className='col '>\n              <button\n                className='btn waves-effect waves-light red darken-4 myBtn'\n                style={{ marginTop: \"2em\" }}\n                type='submit'\n                name='action'\n                onClick={(e) => {\n                  e.preventDefault()\n                  dispatch(deleteCharacter(character._id, history))\n                }}\n              >\n                Delete\n                <i className='material-icons right'>delete</i>\n              </button>\n            </div>\n            <div className='col '>\n              <button\n                className='btn waves-effect waves-light green darken-4 myBtn'\n                style={{ marginTop: \"2em\" }}\n                type='submit'\n                name='action'\n              >\n                Save\n                <i className='material-icons right'>send</i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n      {/* <button onClick={(e) => dispatch(deleteCharacter(character._id))}>TestDeletebutton</button> */}\n    </div>\n  )\n}\n\nexport default Character\n","import React from 'react'\n\nexport default function Settings() {\n    return ( \n <div className=\"container\">\n    <h5>Dark mode</h5>\n    <div className=\"switch\">\n    <label>\n      Off\n      <input type=\"checkbox\"/>\n      <span className=\"lever\"></span>\n      On\n    </label>\n  </div>\n</div>\n    )\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useSelector } from \"react-redux\"\n\nconst Games = () => {\n  const games = useSelector((state) => state.games.games)\n\n  return (\n    <div className='container'>\n      <ul className='collection with-header'>\n        <li className='collection-header brown lighten-3'>\n          <h5>Games</h5>\n        </li>\n\n        {games.map((game, i) => (\n          <Link key={i} to={`game/${game._id}`}>\n            <li\n              className='collection-item'\n              style={{\n                fontSize: \"1.1em\",\n                marginTop: \"0.5em\",\n                backgroundColor: i % 2 !== 0 ? \"#efebe9\" : \"\",\n              }}\n            >\n              {game.name}\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Games\n","import React from \"react\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\n\nfunction PictureModal({ game }) {\n  return (\n    <div>\n      {/* <!-- Modal Trigger --> */}\n      <a className='modal-trigger' href='#modal1'>\n        {/* Piirtää kuvan, jos ehto täyttyy ei enään erroria gameFile.type */}\n        {game.gameFile && (\n          <img\n            className='uploadImg'\n            src={`data:${game.gameFile.type};base64,${atob(\n              game.gameFile.data\n            )}`}\n            alt='uploaded'\n          />\n        )}\n      </a>\n\n      {/* <!-- Modal Structure --> */}\n      <div id='modal1' className='modal'>\n        <div className='modal-content'>\n          {/* Piirtää kuvan, jos ehto täyttyy ei enään erroria gameFile.type */}\n          {game.gameFile && (\n            <img\n              className='modalImg'\n              src={`data:${game.gameFile.type};base64,${atob(\n                game.gameFile.data\n              )}`}\n              alt='uploaded'\n            />\n          )}\n        </div>\n        <div className='modal-footer'>\n          <a\n            href='#!'\n            className='modal-close waves-effect waves-green btn-flat'\n          >\n            Cancel\n          </a>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PictureModal\n","import React, { useEffect } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport PictureModal from \"./PictureModal\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\n\nconst Game = ({ match }) => {\n  const game = useSelector(\n    (state) =>\n      state.games.games.filter((game) => game._id === match.params.id)[0]\n  )\n  const characters = useSelector((state) => state.characters.characters)\n  const player = useSelector((state) => state.auth.player)\n\n  useEffect(() => {\n    // Init Materialize JS\n    M.AutoInit()\n  })\n\n  // console.log(game)\n  // console.log(character)\n  if (!game || !characters) {\n    return <div></div>\n  }\n\n  // console.log(\"Peli\", game)\n  return (\n    <div className='container'>\n      <div className='dragonIcon'>\n        <i className='fas fa-dragon'></i>\n      </div>\n      <div className='row'>\n        <div className='col s12 m6'>\n          <div className='card-panel brown lighten-2'>\n            <h6>Dungeon master</h6>\n            <span className='white-text'>{game.dungeonmaster.username}</span>\n            <h6>Game name</h6>\n            <span className='white-text'>{game.name}</span>\n            <h6>Your character in this game</h6>\n            {/* Katsoo pelin characterit ja etsii listasta itselleen kuuluvat characterin vertailemalla char id:tä */}\n            {game.characters.map((character, i) => {\n              if (characters.some((char) => character._id === char._id)) {\n                return (\n                  <span key={i} className='white-text'>\n                    {character.name}{\" \"}\n                  </span>\n                )\n              }\n            })}\n            <h6> Game description</h6>\n            <span className='white-text'>{game.description}</span>\n          </div>\n        </div>\n        <PictureModal game={game} />\n      </div>\n    </div>\n  )\n}\nexport default Game\n","import {\n  SET_GAMES,\n  ADD_GAME,\n  GET_ERRORS,\n  CLEAR_ERRORS,\n  DELETE_GAME,\n} from \"./types\"\nimport axios from \"axios\"\nimport { validateAddGame } from \"../utils/validator\"\nimport BASE_URL from \"../utils/baseurl\"\n\n// Ei tartte id tai gamesData parametria, koska axios middleware lähettää tokenin automaattisesti\nexport const getGames = () => async (dispatch) => {\n  // console.log(\"GetGamesAction\")\n  try {\n    const res = await axios.get(BASE_URL + \"/api/games\")\n    // console.log(\"GET_GAMES:\", res.data)\n    dispatch({\n      type: SET_GAMES,\n      payload: res.data,\n    })\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const addGame = (gameData, history, quick) => async (dispatch) => {\n  try {\n    const errors = validateAddGame(gameData)\n    console.log(errors)\n    if (errors.name) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: errors,\n      })\n      setTimeout(() => {\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(BASE_URL + \"/api/games\", gameData)\n      dispatch({\n        type: ADD_GAME,\n        payload: res.data,\n      })\n      console.log(\"Game added successfully\")\n      if (!quick) history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const joinGame = (gameId, characterId, history) => async (dispatch) => {\n  try {\n    if (!characterId || characterId === \"\") {\n      dispatch({\n        type: GET_ERRORS,\n        payload: { characterSelect: \"No character selected\" },\n      })\n      setTimeout(() => {\n        dispatch({\n          type: CLEAR_ERRORS,\n        })\n      }, 5000)\n    } else {\n      const res = await axios.post(\n        // se body {character: characterId}\n        BASE_URL + `/api/games/join/${gameId}`,\n        { character: characterId }\n      )\n      dispatch({\n        type: ADD_GAME,\n        payload: res.data,\n      })\n      console.log(\"Game added successfully\")\n      history.push(\"/home\")\n    }\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const deleteGame = (id, history) => async (dispatch) => {\n  try {\n    const res = await axios.delete(BASE_URL + `/api/games/${id}`)\n    dispatch({\n      type: DELETE_GAME,\n      payload: res.data._id,\n    })\n    console.log(\"Game deleted successfully\")\n    history.push(\"/dungeonmaster\")\n  } catch (err) {\n    console.log(err)\n  }\n}\n","import React, { useEffect, useRef, useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { addGame } from \"../../actions/gameActions\"\n\nexport default function CreateGame() {\n  const errors = useSelector((state) => state.errors)\n  const games = useSelector((state) => state.games.games)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [name, setName] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  const [file, setFile] = useState({ type: \"\", data: \"\" })\n  // const gameFile = useRef()\n\n  const onChange = (e) => {\n    console.log(e.target.name)\n    switch (e.target.name) {\n      case \"name\":\n        setName(e.target.value)\n        break\n      case \"description\":\n        setDescription(e.target.value)\n        break\n      case \"image\":\n        console.log(e.target)\n        if (!e.target || !e.target.files || e.target.files.length === 0) return\n        const file = e.target.files[0]\n        console.log(file)\n        if (file) {\n          console.log(\"lolo\")\n          const reader = new FileReader()\n          reader.onload = (e) => {\n            console.log(e)\n            setFile({ type: file.type, data: btoa(e.target.result) })\n          }\n\n          reader.readAsBinaryString(file)\n        }\n        break\n      default:\n        break\n    }\n  }\n  const onSubmit = (e) => {\n    e.preventDefault()\n    // console.log(gameFile.current.files[0])\n\n    const newGame = {\n      name,\n      description,\n      gameFile: JSON.stringify(file),\n      // gameFile: JSON.stringify(gameFile.current.files[0]),\n    }\n    // console.log(newGame)\n    dispatch(addGame(newGame, history, null))\n  }\n\n  useEffect(() => {\n    console.log(file)\n  }, [file])\n  return (\n    <div className='container'>\n      <form\n        onSubmit={onSubmit}\n        encType='multipart/form-data'\n        onChange={onChange}\n      >\n        <div className='row'>\n          <div className='input-field col s8'>\n            <i className='material-icons prefix'>people</i>\n            <input\n              id='icon_prefix'\n              type='text'\n              name='name'\n              className={errors.name ? \"invalid\" : \"\"}\n              // value={name}\n              // onChange={(e) => setName(e.target.value)}\n            />\n            <label className={name !== \"\" ? \"active\" : \"\"}>Game Name</label>\n          </div>\n          <div className='file-field input-field col s4 right'>\n            <div className='btn'>\n              <span>File</span>\n              <input\n                type='file'\n                // ref={gameFile}\n                id='image'\n                name='image'\n              />\n            </div>\n            <div className='file-path-wrapper'>\n              <input className='file-path validate' type='text' />\n            </div>\n          </div>\n        </div>\n        {/* <div className='row'> */}\n        {/* <form className='col s12'> */}\n        {/* <div className='row'> */}\n        <div className='input-field col s12'>\n          <i className='material-icons prefix'>description</i>\n          <textarea\n            id='icon_prefix2'\n            className='materialize-textarea'\n            // value={description}\n            name='description'\n            // onChange={(e) => setDescription(e.target.value)}\n          ></textarea>\n          <label>Game description</label>\n        </div>\n        {/* </div> */}\n        {/* </form> */}\n        {/* </div> */}\n\n        <button\n          className='btn waves-effect waves-light green darken-3 myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n        >\n          Save\n          <i className='material-icons right'>send</i>\n        </button>\n      </form>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function TextFieldGroup({\n  value,\n  onChange,\n  className,\n  type,\n  name,\n  label,\n  error,\n}) {\n  return (\n    <div className=\"input-field\">\n      <input\n        value={value}\n        onChange={onChange}\n        className={error ? className + \" invalid\" : className}\n        type={type}\n        name={name}\n      />\n      <label>{label}</label>\n      {error && <div>{error}</div>}\n    </div>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { loginUser } from \"../../actions/authActions\"\nimport TextFieldGroup from \"../common/TextFieldGroup\"\n\nconst Login = ({ redirect = \"/home\" }) => {\n  const auth = useSelector((state) => state.auth)\n  const errors = useSelector((state) => state.errors)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const userData = {\n      username,\n      password,\n      errors: {},\n    }\n\n    dispatch(loginUser(userData, history, redirect))\n  }\n\n  useEffect(() => {\n    // console.log(auth)\n    if (auth.player) {\n      history.push(\"/home\")\n    }\n    // eslint-disable-next-line\n  }, [auth])\n\n  return (\n    <div className='container'>\n      <form onSubmit={onSubmit}>\n        <h1>Sign in</h1>\n        <TextFieldGroup\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          className='input-field my-inputfield'\n          type='text'\n          name='username'\n          label='Username'\n          error={errors.username}\n        />\n\n        <TextFieldGroup\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className='input-field my-inputfield'\n          type='password'\n          name='password'\n          label='Password'\n          error={errors.password}\n        />\n\n        <button\n          className='btn waves-effect waves-light brown myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n        >\n          Login\n          <i className='material-icons right'>send</i>\n        </button>\n        <div>\n          <Link\n            to='/register'\n            className='btn waves-effect waves-light brown myBtn'\n            style={{ marginTop: \"2em\" }}\n          >\n            Register\n          </Link>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState, useEffect } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { registerUser } from \"../../actions/authActions\"\nimport TextFieldGroup from \"../common/TextFieldGroup\"\n// Note to self withRouter doesn't work with functional components\n// Perhaps they work\n\nconst Register = () => {\n  const auth = useSelector((state) => state.auth)\n  const errors = useSelector((state) => state.errors)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [passwordTwo, setPasswordTwo] = useState(\"\")\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const newPlayer = {\n      username,\n      password,\n      passwordTwo,\n      errors: {},\n    }\n\n    dispatch(registerUser(newPlayer, history))\n  }\n\n  useEffect(() => {\n    if (auth.player) {\n      // Cheking that if the user is logged in\n      // If thats true then redirect player to home\n      history.push(\"/home\")\n    }\n    // eslint-disable-next-line\n  }, [])\n  console.log(errors)\n  return (\n    <div className=\"container\">\n      {/* {errors.length > 0 && <h1>KAKKA</h1>} */}\n      <form onSubmit={onSubmit}>\n        <h1>Register</h1>\n\n        <TextFieldGroup\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          className=\"input-field my-inputfield\"\n          type=\"text\"\n          name=\"username\"\n          label=\"Username\"\n          error={errors.username}\n        />\n\n        <TextFieldGroup\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className=\"input-field my-inputfield\"\n          type=\"password\"\n          name=\"password\"\n          label=\"Password\"\n          error={errors.password}\n        />\n\n        <TextFieldGroup\n          value={passwordTwo}\n          onChange={(e) => setPasswordTwo(e.target.value)}\n          className=\"input-field my-inputfield\"\n          type=\"password\"\n          name=\"passwordTwo\"\n          label=\"Confirm password\"\n          error={errors.password}\n        />\n\n        <button\n          className=\"btn waves-effect waves-light brown myBtn\"\n          style={{ marginTop: \"2em\" }}\n          type=\"submit\"\n          name=\"action\"\n          disabled={password !== passwordTwo && password.length === 0}\n        >\n          Register\n          <i className=\"material-icons right\">send</i>\n        </button>\n        <div>\n          <Link\n            to=\"/\"\n            className=\"btn waves-effect waves-light brown myBtn\"\n            style={{ marginTop: \"2em\" }}\n          >\n            Login\n          </Link>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Register\n","import React from \"react\"\n\nfunction Spinner() {\n  return (\n    <div>\n      <div className='preloader-wrapper small active'>\n        <div className='spinner-layer spinner-green-only'>\n          <div className='circle-clipper left'>\n            <div className='circle'></div>\n          </div>\n          <div className='gap-patch'>\n            <div className='circle'></div>\n          </div>\n          <div className='circle-clipper right'>\n            <div className='circle'></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Spinner\n","import React, { useCallback, useEffect, useState } from \"react\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\nimport axios from \"axios\"\nimport Spinner from \"../common/Spinner\"\n// Modalin ongelma aluksi oli se että se häiriinty muista tiloista ja sammu. Fixattu että se kutsuu parent componentin tilaa vasta, kun se suljettaan.\nfunction SpellsModal({ characterSpells, setParentSpells, parentSpells }) {\n  const [activeSpell, setActiveSpell] = useState(null)\n  // Tässä komponentissa pidetään kirjaa valituista spelleistä. Acceptissa lähetetään parentcomponenttiin\n  const [spells, setSpells] = useState(parentSpells)\n  // Fail cleanup try\n  //   useEffect(() => {\n  //     return () => {\n  //       setParentSpells(spells)\n  //     }\n  //   }, [])\n\n  // Kun parentSpells muuttuu niin kutsumalla setSpells päivitetään spells\n  useEffect(() => {\n    setSpells(parentSpells)\n  }, [parentSpells])\n\n  useEffect(() => {\n    console.log(spells)\n  }, [spells])\n  //   let instance = null\n\n  //   const modalRef = useCallback((elem) => {\n  //     instance = M.Modal.init(elem, {\n  //       inDuration: 0,\n  //       outDuration: 0,\n  //     })\n  //     activeSpell && instance && instance.open()\n  //     // i.open()\n  //   })\n\n  // document.addEventListener('DOMContentLoaded', function() {\n  //   var elems = document.querySelectorAll('.modal');\n  //   var instances = M.Modal.init(elems, options);\n  // });\n  // Reffiä ei voi käyttää useEffectissä, koska se ei re-renderöi\n  const collapsibleRef = useCallback((elem) => {\n    M.Collapsible.init(elem, {\n      // inDuration: 3000,\n      onOpenStart: async (elem) => {\n        // console.log(elem.id)\n\n        try {\n          const res = await axios.get(\n            \"http://localhost:5000/api/spells/\" + elem.id\n          )\n          setActiveSpell(res.data)\n        } catch (e) {\n          console.log(e)\n          setActiveSpell(null)\n        }\n      },\n    })\n    // console.log(elem)\n  })\n  return (\n    <div>\n      {/* <!-- Modal Trigger --> */}\n      <a\n        href='#spells-modal'\n        className='waves-effect waves-light btn modal-trigger'\n\n        // onClick={(e) => {\n        //   instance.open()\n        //   // e.stopPropagation()\n        // }}\n        // onChange={(e) => e.stopPropagation()}\n      >\n        {/* {characterSpells & characterSpells.count} */}\n        Spells ({characterSpells ? characterSpells.count : 0})\n      </a>\n\n      {/* <!-- Modal Structure --> */}\n      <div\n        id='spells-modal'\n        className='modal modal-fixed-footer'\n        style={modalStyle}\n      >\n        <div className='modal-content'>\n          {/* <h4>{c.index}</h4> */}\n\n          <ul className='collapsible' ref={collapsibleRef}>\n            {characterSpells &&\n              characterSpells.results.map((c, i) => (\n                <li key={i} value={c.index} id={c.index}>\n                  <div className='row'>\n                    <div className='col s11'>\n                      <div\n                        className='collapsible-header'\n                        style={{ justifyContent: \"space-between\" }}\n                        // onClick={() => console.log(\"headerklik\")}\n                      >\n                        {/* <i className='material-icons'>star_border</i> */}\n                        <div>{c.name}</div>\n                      </div>\n                    </div>\n                    <div\n                      className='col s1 valign-wrapper'\n                      style={{ height: \"53px\" }}\n                    >\n                      <label>\n                        <input\n                          type='checkbox'\n                          className='filled-in'\n                          style={{ zIndex: 99 }}\n                          //value={c.index}\n                          onChange={(e) => {\n                            //e.preventDefault()\n\n                            // Checkboxin tila muuttuu on/off, jos spells-listalta\n                            // löytyy tämä spelli, tiedetään että checkbox on\n                            // menossa off-asentoon, joten poistetaan kyseinen spelli\n                            // listalta, muussa tapauksessa lisätään\n                            if (spells.includes(c.index)) {\n                              setSpells(\n                                spells.filter((spell) =>\n                                  spell === c.index ? false : true\n                                )\n                              )\n                            } else {\n                              setSpells([...spells, c.index])\n                            }\n                            // console.log(spells)\n                          }}\n                          checked={spells.includes(c.index) ? true : false}\n                          // onChange={(e) => e.stopPropagation()}\n                          // onClick={(e) => {\n                          //   console.log(\"klikcheckbox\")\n                          //   e.stopPropagation()\n                          // }}\n                        />\n                        <span\n                          // onClick={(e) => e.stopPropagation()}\n                          className='right'\n                        ></span>\n                      </label>\n                    </div>\n                  </div>\n                  <div className='collapsible-body'>\n                    <span>{activeSpell ? activeSpell.desc : <Spinner />}</span>\n                  </div>\n                </li>\n              ))}\n          </ul>\n        </div>\n        <div className='modal-footer'>\n          <button\n            onClick={(e) => {\n              e.preventDefault()\n              setParentSpells(spells)\n            }}\n            href='#!'\n            className='modal-close waves-effect waves-green btn-flat'\n          >\n            Accept\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst modalStyle = {\n  width: \"75%\",\n  height: \"75%\",\n}\n\nexport default SpellsModal\n","import React, { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { addCharacter } from \"../../actions/characterActions\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\nimport BASE_URL from \"../../utils/baseurl\"\nimport axios from \"axios\"\n// import Spinner from \"../common/Spinner\"\nimport SpellsModal from \"./SpellsModal\"\n\n// Todo: Subrace(Dwarf => Hill Dwarf) & languages, experience points, background\n\nconst CreateCharacter = () => {\n  // const characters = useSelector((state) => state.characters)\n  const errors = useSelector((state) => state.errors)\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const [name, setName] = useState(\"\")\n  const [race, setRace] = useState(\"0\")\n  const [characterClass, setCharacterClass] = useState(\"\")\n  // Cannot read property 'map' of undefined. Ylhäältä alas, koska characterClasses.result ei ole vielä olemassa ni tyhjä divi\n  const [characterClasses, setCharacterClasses] = useState(null)\n  const [characterSpells, setCharacterSpells] = useState(null)\n  const [level, setLevel] = useState(\"\")\n  const [spells, setSpells] = useState([])\n  const [alignment, setAlignment] = useState(\"0\")\n  // const [activeSpell, setActiveSpell] = useState(null)\n\n  const getClass = async () => {\n    try {\n      const response = await axios.get(BASE_URL + `/api/classes`)\n      setCharacterClasses(response.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  const getSpell = async () => {\n    if (characterClass === \"\") return\n    try {\n      const response = await axios.get(\n        BASE_URL + `/api/classes/${characterClass}/spells`\n      )\n      setCharacterSpells(response.data)\n      // console.log(response.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  useEffect(() => {\n    // Init Materialize JS\n    M.AutoInit()\n  })\n  // Hateaan spellit vasta kun valitaan joku classi\n  useEffect(() => {\n    getClass()\n    // getSpell()\n  }, [])\n\n  useEffect(() => {\n    // console.log(spells)\n  }, [spells])\n  useEffect(() => {\n    // getClass()\n    getSpell()\n    setSpells([])\n  }, [characterClass])\n  // console.log(characterClass)\n  // console.log(characterSpells)\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const newCharacter = {\n      name,\n      race,\n      characterClass,\n      level,\n      alignment,\n      spells,\n      // errors: {},\n    }\n\n    dispatch(addCharacter(newCharacter, history))\n  }\n  // || characterClasses.length === 0)\n  if (!characterClasses) {\n    return <div></div>\n  }\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <div className='container'>\n          <div className='row'>\n            <div className='col s6'>\n              <div className='input-field col s4'>\n                <input\n                  className={errors.name ? \"invalid\" : \"\"}\n                  id='characterName'\n                  type='text'\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n                <label>CHARACTER NAME:</label>\n              </div>\n              <div className='input-field col s4'>\n                <input\n                  className={errors.level ? \"invalid\" : \"\"}\n                  id='level'\n                  type='text'\n                  value={level}\n                  onChange={(e) => setLevel(e.target.value)}\n                />\n                <label>LEVEL:</label>\n              </div>\n            </div>\n          </div>\n\n          <div className='col s12 row'>\n            <div className='col s4'>\n              <label>Race Select</label>\n              <select\n                // className={`browser-default ${errors.race && \"invalid\"}`}\n                className='browser-default'\n                style={{ borderColor: errors.race ? \"red\" : \"\" }}\n                value={race}\n                onChange={(e) => setRace(e.target.value)}\n              >\n                <option value='0' disabled>\n                  Races\n                </option>\n                <option value='Aasimar'>Aasimar</option>\n                <option value='Dragonborn'>Dragonborn</option>\n                <option value='Dwarf'>Dwarf</option>\n                <option value='Elf'>Elf</option>\n                <option value='Gnome'>Gnome</option>\n                <option value='Half-Elf'>Half-Elf</option>\n                <option value='Half-Orc'>Half-Orc</option>\n                <option value='Halfling'>Halfling</option>\n                <option value='Human'>Human</option>\n                <option value='Tiefling'>Tiefling</option>\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Class Select</label>\n              <select\n                className='browser-default'\n                style={{ borderColor: errors.characterClass ? \"red\" : \"\" }}\n                value={characterClass}\n                onChange={(e) => {\n                  setCharacterClass(e.target.value)\n                }}\n              >\n                <option value='' disabled>\n                  Classes\n                </option>\n                {characterClasses.results.map((c, i) => (\n                  <option key={i} value={c.index}>\n                    {c.name}\n                  </option>\n                ))}\n                {/* <option value='Bard'>Bard</option>\n                <option value='Cleric'>Cleric</option>\n                <option value='Druid'>Druid</option>\n                <option value='Other'>Other</option>\n                <option value='Paladin'>Paladin</option>\n                <option value='Ranger'>Ranger</option>\n                <option value='Sorcerer'>Sorcerer</option>\n                <option value='Warlock'>Warlock</option>\n                <option value='Wizard'>Wizard</option> */}\n              </select>\n            </div>\n\n            <div className='col s4'>\n              <label>Alignment Select</label>\n              <select\n                className='browser-default'\n                value={alignment}\n                onChange={(e) => setAlignment(e.target.value)}\n              >\n                <option value='0' disabled>\n                  Alignments\n                </option>\n                <option value='Lawful good'>Lawful good</option>\n                <option value='Lawful neutral'>Lawful neutral</option>\n                <option value='Lawful evil'>Lawful evil</option>\n                <option value='Neutral good'>Neutral good</option>\n                <option value='Neutral'>Neutral</option>\n                <option value='Neutral evil'>Neutral evil</option>\n                <option value='Chaotic good'>Chaotic good</option>\n                <option value='Chaotic neutral'>Chaotic neutral</option>\n                <option value='Chaotic evil'>Chaotic evil</option>\n              </select>\n            </div>\n          </div>\n          <SpellsModal\n            characterSpells={characterSpells}\n            setParentSpells={setSpells}\n            parentSpells={spells}\n          />\n\n          <div className='row right'>\n            <div className='col'>\n              <button\n                className='btn waves-effect waves-light  grey darken-1 myBtn'\n                style={{ marginTop: \"2em\" }}\n                name='action'\n                onClick={() => history.push(\"/home\")}\n              >\n                Cancel\n                <i className='material-icons right'>cancel</i>\n              </button>\n            </div>\n            <div className='col '>\n              <button\n                className='btn waves-effect waves-light green darken-4 myBtn'\n                style={{ marginTop: \"2em\" }}\n                type='submit'\n                name='action'\n              >\n                Save\n                <i className='material-icons right'>send</i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default CreateCharacter\n","// Todo: List my games(as a dungeon master)\n\nimport React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { addGame } from \"../../actions/gameActions\"\n\nconst DungeonMaster = () => {\n  const errors = useSelector((state) => state.errors)\n  // const games = useSelector((state) => state.games.games)\n  const player = useSelector((state) => state.auth.player)\n  const games = useSelector((state) =>\n    state.games.games.filter((game) => game.dungeonmaster._id === player.id)\n  )\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  // console.log(games)\n\n  const [name, setName] = useState(\"\")\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const newGame = {\n      name,\n    }\n    dispatch(addGame(newGame, history, true))\n    setName(\"\")\n  }\n\n  return (\n    <div className='container'>\n      <form onSubmit={onSubmit}>\n        <div className=''>\n          <Link to='/create-game'>Create a full game</Link>\n          <p>Quick start a new game</p>\n        </div>\n        <div className='input-field col s6'>\n          <i className='material-icons prefix'>people</i>\n          <input\n            id='icon_prefix'\n            type='text'\n            className={errors.name ? \"invalid\" : \"\"}\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <label className={name !== \"\" ? \"active\" : \"\"}>Game Name</label>\n          <button\n            className='btn waves-effect waves-light green darken-3 myBtn'\n            style={{ marginTop: \"2em\" }}\n            type='submit'\n            name='action'\n          >\n            Save\n            <i className='material-icons right'>send</i>\n          </button>\n        </div>\n      </form>\n\n      <ul className='collection with-header'>\n        <li className='collection-header brown lighten-5'>\n          <h5>Your adventures</h5>\n        </li>\n        {games.map((game, i) => (\n          <Link key={i} to={`game-info/${game._id}`}>\n            <li\n              className='collection-item'\n              style={{\n                fontSize: \"1.1em\",\n                marginTop: \"0.5em\",\n                backgroundColor: i % 2 !== 0 ? \"#efebe9\" : \"\",\n              }}\n            >\n              {game.name}\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default DungeonMaster\n","import React from \"react\"\nimport { useSelector } from \"react-redux\"\n\nexport default function WelcomeBar() {\n  const player = useSelector((state) => state.auth.player)\n  // console.log(player)\n\n  if (!player) {\n    return <div></div>\n  }\n  return (\n    <div className='container' style={{ marginBottom: \"1.5em\" }}>\n      <h5 className='welcomeText'>\n        Welcome,{\"  \"}{\" \"}\n        <span className='playerWelcomeName'>\n          {player.username}\n          {\"  \"}{\" \"}\n        </span>\n        <span style={{ fontSize: \"25px\", color: \"Mediumslateblue\" }}>\n          <i className='fas fa-hat-wizard'></i>\n        </span>\n        <br></br>Are you ready to start your adventure?{\"  \"}\n        {\"  \"}\n      </h5>\n    </div>\n  )\n}\n","// For DM to see\nimport React, { useEffect } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { deleteGame } from \"../../actions/gameActions\"\nimport BASE_URL, { BASE_URL_FRONT } from \"../../utils/baseurl\"\nimport PictureModal from \"./PictureModal\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\n// Todo: Tarina (Peruskuvaus, karttakuva), Muut pelaajat,\n// Ehtolause jos DM näyttää  DM jutut\n\nexport default function GameInfo({ match }) {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  // Filtteröi peleistä pelin, jonka id on sama kuin urlin id ja ottaa listasta ensimmäisen\n  const game = useSelector(\n    (state) =>\n      state.games.games.filter((game) => game._id === match.params.id)[0]\n  )\n  const player = useSelector((state) => state.auth.player)\n  const characters = useSelector((state) => state.characters.characters)\n\n  useEffect(() => {\n    // Init Materialize JS\n    M.AutoInit()\n  })\n\n  // Räyh\n  if (!game) {\n    return <div></div>\n  }\n  // console.log(\"GAMEFILE:\", game.gameFile)\n  // console.log(\"Herepeli\")\n  return (\n    <div className='container'>\n      <div className='dragonIcon'>\n        <i className='fas fa-dragon'></i>\n      </div>\n      <div className='row'>\n        <div className='col s6'>\n          <div className='card-panel brown lighten-2'>\n            <h6>Dungeon master</h6>\n            <span\n              className='white-text'\n              style={{ textTransform: \"capitalize\" }}\n            >\n              {game.dungeonmaster.username}\n            </span>\n            <h6>Game name</h6>\n            <span\n              className='white-text'\n              style={{ textTransform: \"capitalize\" }}\n            >\n              {game.name}\n            </span>\n            <h6>Characters in this game</h6>\n            {game.characters.map((character, i) => (\n              <span key={i} className='white-text'>\n                {character.name} -{\" \"}\n              </span>\n            ))}\n\n            <h6> Game description</h6>\n            <span className='white-text'>{game.description}</span>\n          </div>\n        </div>\n        <PictureModal game={game} />\n      </div>\n      <div className='row'>\n        <div className='col s12'>\n          <div className='card-panel brown lighten-2'>\n            <h6> Share this invite to people to join:</h6>\n            <span className='white-text'>\n              {BASE_URL_FRONT + `/joingame/${game._id}?secret=${game.secret}`}\n            </span>\n            <button\n              className='waves-effect waves-light btn-small'\n              style={{ marginLeft: \"3.5em\", backgroundColor: \"mediumpurple\" }}\n              onClick={() =>\n                navigator.clipboard.writeText(\n                  BASE_URL_FRONT + `/joingame/${game._id}?secret=${game.secret}`\n                )\n              }\n            >\n              Copy\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className='col '>\n        <button\n          className='btn waves-effect waves-light red darken-4 myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n          onClick={(e) => {\n            e.preventDefault()\n            dispatch(deleteGame(game._id, history))\n          }}\n        >\n          Delete\n          <i className='material-icons right'>delete</i>\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport axios from \"../../utils/axiosService\"\nimport Login from \"../auth/Login\"\n\nimport { joinGame } from \"../../actions/gameActions\"\nimport BASE_URL from \"../../utils/baseurl\"\n// Todo: Näytä punanen korostus errori, jos hahmo on liittyny peliin\n// Todo: luo hahmo vaihtoehto, jos ei ole hahmoa\n\nexport default function JoinGame({ match, location }) {\n  // Filtteröi peleistä pelin, jonka id on sama kuin urlin id ja ottaa listasta ensimmäisen\n  // const game = useSelector(\n  //   (state) =>\n  //     state.games.games.filter((game) => game._id === match.params.id)[0]\n  // )\n\n  const auth = useSelector((state) => state.auth)\n\n  const [game, setGame] = useState(null)\n  const secret = new URLSearchParams(location.search).get(\"secret\")\n  // console.log(secret)\n  // const player = useSelector((state) => state.auth.player)\n  const characters = useSelector((state) => state.characters.characters)\n  const [character, setCharacter] = useState(\"\")\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n  console.log(history.location)\n  const onSubmit = () => {\n    dispatch(joinGame(game._id, character, history))\n  }\n\n  const getGame = async () => {\n    try {\n      const game = await axios.get(\n        BASE_URL + `/api/games/${match.params.id}/${secret}`\n      )\n      setGame(game.data)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  useEffect(() => {\n    getGame()\n    // eslint-disable-next-line\n  }, [auth])\n  // console.log(game)\n\n  const notAuthed = () => {\n    if (!auth.player) {\n      return (\n        // <Login redirect={history.location.pathname + history.location.search} />\n        <Login redirect={false} />\n      )\n    }\n  }\n  // Palauttaa tyhjän kunnes peli on haettu\n  const authLinks = !game ? (\n    <div></div>\n  ) : (\n    <div className='container'>\n      <div className='dragonIcon'>\n        <i className='fas fa-dragon'></i>\n      </div>\n\n      <div className='row'>\n        <div className='col s12 m6'>\n          <div className='card-panel brown lighten-2'>\n            <h6>Dungeon master</h6>\n            <span className='white-text'>{game.dungeonmaster.username}</span>\n            <h6>Game name</h6>\n            <span className='white-text'>{game.name}</span>\n          </div>\n        </div>\n        {/*  */}\n        <div className='col s12 m6'>\n          <div className='card-panel brown lighten-2'>\n            <h6> Game description</h6>\n            <span className='white-text'>{game.description}</span>\n          </div>\n        </div>\n      </div>\n      <label className='joinGameHeader'>\n        Choose a character to join a game\n      </label>\n      <select\n        className='browser-default'\n        onChange={(e) => setCharacter(e.target.value)}\n        defaultValue=''\n      >\n        <option value='' disabled>\n          Choose your character\n        </option>\n        {characters.map((character) => (\n          <option key={character._id} value={character._id}>\n            {character.name}, {character.race} {character.characterClass}\n          </option>\n        ))}\n      </select>\n\n      <div className='row right'>\n        <button\n          onClick={onSubmit}\n          className='btn waves-effect waves-light green darken-4 myBtn'\n          style={{ marginTop: \"2em\" }}\n          type='submit'\n          name='action'\n          disabled={character === \"\"}\n        >\n          Join\n          <i className='material-icons right'>send</i>\n        </button>\n      </div>\n    </div>\n  )\n  // console.log(game)\n  return <div>{auth.player ? authLinks : notAuthed()}</div>\n}\n","import React, { Fragment, useEffect } from \"react\"\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n} from \"react-router-dom\"\nimport jwt_decode from \"jwt-decode\"\nimport { setToken } from \"./utils/axiosService\"\nimport Navbar from \"./components/layouts/Navbar\"\nimport SearchBar from \"./components/layouts/SearchBar\"\nimport Characters from \"./components/characters/Characters\"\nimport Character from \"./components/characters/Character\"\nimport Settings from \"./components/settings/Settings\"\nimport Games from \"./components/games/Games\"\nimport Game from \"./components/games/Game\"\nimport CreateGame from \"./components/games/CreateGame\"\nimport Login from \"./components/auth/Login\"\nimport Register from \"./components/auth/Register\"\nimport CreateCharacter from \"./components/create-character/CreateCharacter\"\nimport DungeonMaster from \"./components/dungeonmaster/DungeonMaster\"\nimport \"materialize-css/dist/css/materialize.min.css\"\nimport M from \"materialize-css/dist/js/materialize.min.js\"\nimport \"./App.css\"\nimport WelcomeBar from \"./components/layouts/WelcomeBar\"\nimport { setCurrentPlayer, logoutUser } from \"./actions/authActions\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { getCharacters } from \"./actions/characterActions\"\nimport { getGames } from \"./actions/gameActions\"\nimport GameInfo from \"./components/games/GameInfo\"\nimport JoinGame from \"./components/games/JoinGame\"\n\nfunction App() {\n  const dispatch = useDispatch()\n  const player = useSelector((state) => state.auth.player)\n  const history = useHistory()\n  const location = useLocation()\n  useEffect(() => {\n    // console.log(localStorage.accessToken)\n    // Check for token from localStorage (logic for refreshing the page so the token doesn't disappear)\n    if (localStorage.accessToken) {\n      // Set auth token header auth\n      setToken(localStorage.accessToken)\n      // Decode token and get user info and exp\n      const decoded = jwt_decode(localStorage.accessToken)\n      // Set user and isAuthenticated\n      // console.log(decoded)\n      dispatch(setCurrentPlayer(decoded.player))\n\n      // Check for expired token\n      const currentTime = Date.now() / 1000\n      if (decoded.exp < currentTime) {\n        // If the expiration time is less than the current time\n        // Logout user\n        dispatch(logoutUser())\n        // // TODO: Clear current profile\n        // store.dispatch(clearCurrentProfile())\n        // // Redirect to login\n        // window.location.href = \"/\"\n        history.push(\"/\")\n      }\n    } else {\n      history.push(\"/\")\n    }\n  }, [])\n\n  useEffect(() => {\n    // console.log(location.pathname)\n    if (location.pathname === \"/\") return\n    if (localStorage.accessToken) {\n      // Set auth token header auth\n      // Decode token and get user info and exp\n      const decoded = jwt_decode(localStorage.accessToken)\n      // Set user and isAuthenticated\n      // console.log(decoded)\n      // Check for expired token\n      const currentTime = Date.now() / 1000\n      if (decoded.exp < currentTime) {\n        // If the expiration time is less than the current time\n        // Logout user\n        dispatch(logoutUser())\n        // // TODO: Clear current profile\n        // store.dispatch(clearCurrentProfile())\n        // // Redirect to login\n        // window.location.href = \"/\"\n        history.push(\"/\")\n      }\n    } else {\n      history.push(\"/\")\n    }\n  }, [location])\n\n  useEffect(() => {\n    // If player is not logged in, do nothing\n    if (!player) return\n    // Get data from backend to Redux immediately on first render\n    dispatch(getCharacters())\n    dispatch(getGames())\n  }, [player])\n  useEffect(() => {\n    // Init Materialize JS\n    M.AutoInit()\n  })\n  return (\n    // <Router>\n    <Fragment>\n      <Navbar />\n      <Switch>\n        <Route exact path='/' component={Login} />\n        <Route exact path='/register' component={Register} />\n        <Route\n          exact\n          path='/home'\n          render={() => (\n            <div className='container'>\n              <div className='dragonIcon'>\n                <i className='fas fa-dragon'></i>\n              </div>\n              <SearchBar />\n              <WelcomeBar />\n\n              <Characters />\n              <Games />\n            </div>\n          )}\n        />\n\n        <Route exact path='/character/:id' component={Character} />\n        <Route exact path='/game/:id' component={Game} />\n        <Route exact path='/game-info/:id' component={GameInfo} />\n        <Route exact path='/create-character' component={CreateCharacter} />\n        <Route exact path='/dungeonmaster' component={DungeonMaster} />\n        <Route exact path='/settings' component={Settings} />\n        <Route exact path='/create-game' component={CreateGame} />\n        <Route exact path='/joingame/:id' component={JoinGame} />\n      </Switch>\n    </Fragment>\n    // </Router>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { SET_CURRENT_PLAYER } from \"../actions/types\"\n\nconst initialState = {\n  player: null\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_CURRENT_PLAYER:\n      // console.log(action)\n      return {\n        ...state,\n        player: action.payload,\n      }\n    default:\n      return state\n  }\n}\n","import { GET_ERRORS, CLEAR_ERRORS } from \"../actions/types\"\n\nconst initialState = {}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case GET_ERRORS:\n      return action.payload\n    case CLEAR_ERRORS:\n      // console.log(\"errorireducertoimii\")\n      return {}\n    default:\n      return state\n  }\n}\n","import {\n  ADD_CHARACTER,\n  SET_CHARACTERS,\n  UPDATE_CHARACTER,\n  DELETE_CHARACTER,\n} from \"../actions/types\"\n\nconst initialState = {\n  characters: [],\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case ADD_CHARACTER:\n      return {\n        ...state,\n        // [...state.characters] = old array action.newCharacter new object to be added to array\n        characters: [action.newCharacter, ...state.characters],\n      }\n    case DELETE_CHARACTER:\n      // console.log(\"Delete Rducer\")\n      return {\n        ...state,\n        // Vanhasta listasta filtteröidään pois character, jonka id on annettu action.payloadina\n        characters: state.characters.filter(\n          (character) => character._id !== action.payload\n        ),\n      }\n    case SET_CHARACTERS:\n      // console.log(action)\n      return {\n        ...state,\n        // Asetetaan listaksi annettu lista (korvataan vanha lista uudella annetulla listalla)\n        characters: [...action.payload],\n      }\n    case UPDATE_CHARACTER:\n      console.log(action.payload)\n      return {\n        ...state,\n        // Jos on sama id niin päivitetään characteria, jos ei ole niin annetaan olla vanha\n        characters: state.characters.map((character) =>\n          character._id === action.payload._id ? action.payload : character\n        ),\n      }\n    default:\n      return state\n  }\n}\n","import { SET_GAMES, ADD_GAME, DELETE_GAME } from \"../actions/types\"\n\nconst initialState = {\n  games: [],\n}\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_GAMES:\n      return {\n        ...state,\n        games: action.payload,\n      }\n    case ADD_GAME:\n      console.log(\"ADD REDUCER\", action)\n      return {\n        ...state,\n        games: [action.payload, ...state.games],\n      }\n    case DELETE_GAME:\n      return {\n        ...state,\n        // Vanhasta listasta filtteröidään pois peli, jonka id on annettu action.payloadina\n        games: state.games.filter((game) => game._id !== action.payload),\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from \"redux\"\nimport authReducer from \"./authReducer\"\nimport errorReducer from \"./errorReducer\"\nimport characterReducer from \"./characterReducer\"\nimport gameReducer from './gameReducer'\n\nexport default combineReducers({\n  auth: authReducer,\n  errors: errorReducer,\n  characters: characterReducer,\n  games: gameReducer,\n})\n","import { createStore, applyMiddleware } from \"redux\"\nimport { composeWithDevTools } from \"redux-devtools-extension\"\nimport thunk from \"redux-thunk\"\nimport rootReducer from \"./reducers/index\"\n\nconst initialState = {}\n\nconst middleware = [thunk]\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n)\n\nexport default store\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\nimport { Provider } from \"react-redux\"\nimport store from \"./store\"\nimport { BrowserRouter as Router } from \"react-router-dom\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}